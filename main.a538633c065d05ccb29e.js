(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return Ze}),n.d(e,"b",function(){return ca}),n.d(e,"c",function(){return ia}),n.d(e,"d",function(){return na}),n.d(e,"e",function(){return ra}),n.d(e,"f",function(){return nu}),n.d(e,"g",function(){return Ka}),n.d(e,"h",function(){return hs}),n.d(e,"i",function(){return wa}),n.d(e,"j",function(){return Mo}),n.d(e,"k",function(){return fa}),n.d(e,"l",function(){return Bo}),n.d(e,"m",function(){return lr}),n.d(e,"n",function(){return Us}),n.d(e,"o",function(){return Mi}),n.d(e,"p",function(){return sn}),n.d(e,"q",function(){return Xe}),n.d(e,"r",function(){return Zi}),n.d(e,"s",function(){return os}),n.d(e,"t",function(){return ss}),n.d(e,"u",function(){return ha}),n.d(e,"v",function(){return Os}),n.d(e,"w",function(){return Qa}),n.d(e,"x",function(){return _s}),n.d(e,"y",function(){return qa}),n.d(e,"z",function(){return Ea}),n.d(e,"A",function(){return an}),n.d(e,"B",function(){return ua}),n.d(e,"C",function(){return aa}),n.d(e,"D",function(){return zo}),n.d(e,"E",function(){return Ho}),n.d(e,"F",function(){return pr}),n.d(e,"G",function(){return Ko}),n.d(e,"H",function(){return or}),n.d(e,"I",function(){return cn}),n.d(e,"J",function(){return Ya}),n.d(e,"K",function(){return ys}),n.d(e,"L",function(){return ja}),n.d(e,"M",function(){return tn}),n.d(e,"N",function(){return Qo}),n.d(e,"O",function(){return Wo}),n.d(e,"P",function(){return Ss}),n.d(e,"Q",function(){return L}),n.d(e,"R",function(){return Ba}),n.d(e,"S",function(){return Ua}),n.d(e,"T",function(){return Ma}),n.d(e,"U",function(){return tu}),n.d(e,"V",function(){return Da}),n.d(e,"W",function(){return la}),n.d(e,"X",function(){return Vi}),n.d(e,"Y",function(){return No}),n.d(e,"Z",function(){return rr}),n.d(e,"ab",function(){return Vn}),n.d(e,"bb",function(){return An}),n.d(e,"cb",function(){return kn}),n.d(e,"db",function(){return Pn}),n.d(e,"eb",function(){return Dn}),n.d(e,"fb",function(){return Nn}),n.d(e,"gb",function(){return Rn}),n.d(e,"hb",function(){return xo}),n.d(e,"ib",function(){return Za}),n.d(e,"jb",function(){return Ao}),n.d(e,"kb",function(){return jo}),n.d(e,"lb",function(){return jn}),n.d(e,"mb",function(){return q}),n.d(e,"nb",function(){return ro}),n.d(e,"ob",function(){return mo}),n.d(e,"pb",function(){return go}),n.d(e,"qb",function(){return Co}),n.d(e,"rb",function(){return At}),n.d(e,"sb",function(){return m}),n.d(e,"tb",function(){return xn}),n.d(e,"ub",function(){return Et}),n.d(e,"vb",function(){return Jr}),n.d(e,"wb",function(){return so}),n.d(e,"xb",function(){return Xs}),n.d(e,"yb",function(){return X}),n.d(e,"zb",function(){return ot}),n.d(e,"Ab",function(){return _}),n.d(e,"Bb",function(){return O}),n.d(e,"Cb",function(){return nt}),n.d(e,"Db",function(){return st}),n.d(e,"Eb",function(){return uo}),n.d(e,"Fb",function(){return po}),n.d(e,"Gb",function(){return fo}),n.d(e,"Hb",function(){return ho}),n.d(e,"Ib",function(){return Eo}),n.d(e,"Jb",function(){return bn}),n.d(e,"Kb",function(){return $e}),n.d(e,"Lb",function(){return ea}),n.d(e,"Mb",function(){return yo}),n.d(e,"Nb",function(){return Zs}),n.d(e,"Ob",function(){return co}),n.d(e,"Pb",function(){return Ys}),n.d(e,"Qb",function(){return sr}),n.d(e,"Rb",function(){return rt}),n.d(e,"Sb",function(){return ao}),n.d(e,"Tb",function(){return wo}),n.d(e,"Ub",function(){return _o});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function b(t){return t.__forward_ref__=b,t.toString=function(){return m(this())},t}function w(t){return"function"==typeof(e=t)&&e.hasOwnProperty(v)&&e.__forward_ref__===b?t():t;var e}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,I)||S(t,x)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const I=g({"\u0275prov":g}),C=g({"\u0275inj":g}),x=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function N(t){const e=k;return k=t,e}function D(t,e,n){const r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&j.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}function R(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=F||V||M||U,B={},H=[],z=g({"\u0275cmp":g}),G=g({"\u0275dir":g}),K=g({"\u0275pipe":g}),W=g({"\u0275mod":g}),Q=g({"\u0275loc":g}),$=g({"\u0275fac":g}),J=g({__NG_ELEMENT_ID__:g});let Y=0;function X(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Y++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Z(t){return at(t)||function(t){return t[G]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{et[t.id]=t.type}),e}function rt(t,e){return R(()=>{const n=ut(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=X;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[z]||null}function ut(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty($)?t[$]:null}class vt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function bt(t){return"string"==typeof t?t:null==t?"":String(t)}function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bt(t)}function _t(t,e){const n=e?" in "+e:"";throw new vt("201",`No provider for ${wt(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ot(u&&u.currentValue,e,s===B),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;let xt=void 0;function At(t){xt=t}function jt(t){return!!t.listen}const kt={createRenderer:(t,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return ht(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function Kt(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function Qt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return Bt.lFrame.isParent}function Jt(){return Bt.isInCheckNoChangesMode}function Yt(t){Bt.isInCheckNoChangesMode=t}function Xt(){return Bt.lFrame.bindingIndex++}function Zt(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Bt.lFrame.currentDirectiveIndex=t}function ee(){return Bt.lFrame.currentQueryIndex}function ne(t){Bt.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=se(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return Bt.lFrame.selectedIndex}function fe(t){Bt.lFrame.selectedIndex=t}function de(){const t=Bt.lFrame;return Rt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){ve(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const we=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const r=jt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Se(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Se(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ie(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ce(t){return t!==we}function xe(t){return 32767&t}function Ae(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let je=!0;function ke(t){const e=je;return je=t,e}let Ne=0;function De(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Ce(i)){const t=xe(i),n=Ae(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return we;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return we}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Ne++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Me(t,e,n){if(n&j.Optional)return t;_t(e,"NodeInjector")}function Ue(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{N(o)}}return Me(r,e,n)}function Ve(t,e,n,r=j.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof o){if(!ie(e,t,r))return r&j.Host?Me(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&j.Optional)return t;_t(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=we,u=r&j.Host?e[16][6]:null;for((-1===s||r&j.SkipSelf)&&(a=-1===s?Le(t,e):e[s+8],a!==we&&We(r,!1)?(i=e[1],s=xe(a),e=Ae(a,e)):s=-1);-1!==s;){const t=e[1];if(Ke(o,s,t.data)){const t=He(s,e,n,i,r,u);if(t!==qe)return t}a=e[s+8],a!==we&&We(r,e[1].data[s+8]===u)&&Ke(o,s,e)?(i=t,s=xe(a),e=Ae(a,e)):s=-1}}}return Ue(e,n,r,i)}const qe={};function Be(){return new Qe(Kt(),zt())}function He(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=ze(a,s,n,null==r?pt(a)&&je:r!=s&&0!=(3&a.type),i&j.Host&&o===a);return null!==u?Ge(e,s,u,a):qe}function ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;s.resolving&&function(t,e){throw new vt("200","Circular dependency in DI detected for "+t)}(wt(o[n]));const a=ke(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ie(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),ke(a),s.resolving=!1,ce()}}return i}function Ke(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function We(t,e){return!(t&j.Self||t&j.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function $e(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ee(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const Je="__parameters__";function Ye(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Ze=new Xe("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const sn=Ye("Inject",t=>({token:t})),an=Ye("Optional"),un=Ye("Self"),cn=Ye("SkipSelf"),ln=Ye("Host"),hn={},fn=/\n/gm,dn="__source",pn=g({provide:String,useValue:g});let gn,mn=void 0;function yn(t){const e=mn;return mn=t,e}function vn(t,e=j.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?D(t,void 0,e):mn.get(t,e&j.Optional?null:void 0,e)}function bn(t,e=j.Default){return(k||vn)(w(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof an||"Optional"===i.ngMetadataName||i===an?n|=j.Optional:i instanceof cn||"SkipSelf"===i.ngMetadataName||i===cn?n|=j.SkipSelf:i instanceof un||"Self"===i.ngMetadataName||i===un?n|=j.Self:i instanceof ln||"Host"===i.ngMetadataName||i===ln?n|=j.Host:t=i instanceof sn||i===sn?i.token:i}e.push(bn(t,n))}else e.push(bn(r))}return e}function _n(t){var e;return(null===(e=function(){if(void 0===gn&&(gn=null,q.trustedTypes))try{gn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return gn}())||void 0===e?void 0:e.createHTML(t))||t}class On{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class En extends On{getTypeName(){return"HTML"}}class Sn extends On{getTypeName(){return"Style"}}class Tn extends On{getTypeName(){return"Script"}}class In extends On{getTypeName(){return"URL"}}class Cn extends On{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof On?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof On&&t.getTypeName()||null}function kn(t){return new En(t)}function Nn(t){return new Sn(t)}function Dn(t){return new Tn(t)}function Rn(t){return new In(t)}function Pn(t){return new Cn(t)}class Ln{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_n(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_n(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=_n(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vn(t){return(t=String(t)).match(Mn)||t.match(Un)?t:"unsafe:"+t}function qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hn=qn("area,br,col,hr,img,wbr"),zn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gn=qn("rp,rt"),Kn=Bn(Gn,zn),Wn=Bn(Hn,Bn(zn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bn(Gn,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kn),Qn=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$n=qn("srcset"),Jn=Bn(Qn,$n,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yn=qn("script,style,template");class Xn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Jn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Qn[o]&&(s=Vn(s)),$n[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Vn(t.trim())).join(", ")),this.buf.push(" ",e,'="',er(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(er(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Zn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tr=/([^\#-~ |!])/g;function er(t){return t.replace(/&/g,"&amp;").replace(Zn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(tr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nr;function rr(t,e){let n=null;try{nr=nr||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(_n(""),"text/html")}catch(t){return!1}}()?new Ln(e):e}(t);let r=e?String(e):"";n=nr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nr.getInertBodyElement(r)}while(r!==o);return(new Xn).sanitizeChildren(ir(n)||n)}finally{if(n){const t=ir(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ir(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function sr(t){const e=function(){const t=zt();return t&&t[12]}();return e?e.sanitize(or.URL,t)||"":An(t,"URL")?xn(t):Vn(bt(t))}function ar(t){return t.ngDebugContext}function ur(t){return t.ngOriginalError}function cr(t,...e){t.error(...e)}class lr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ar(t)?ar(t):this._findContext(ur(t)):null}_findOriginalError(t){let e=ur(t);for(;e&&ur(e);)e=ur(e);return e}}function hr(t,e){t.__ngContext__=e}const fr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function dr(t){return t instanceof Function?t():t}var pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function gr(t,e){return(void 0)(t,e)}function mr(t){const e=t[3];return ft(e)?e[3]:e}function yr(t){return br(t[13])}function vr(t){return br(t[4])}function br(t){for(;null!==t&&!ft(t);)t=t[4];return t}function wr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Cr(e,n,a):Ir(e,n,a,i||null,!0):1===t&&null!==n?Ir(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ar(t,e);r&&function(t,e,n,r){jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&wr(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];Rr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function _r(t,e,n){return jt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Or(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Er(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Or(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,lt+e);Rr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Sr(t,e){if(!(256&e[2])){const n=e[11];jt(n)&&n.destroyNode&&Rr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Tr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Tr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Tr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Tr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&jt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Or(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ir(t,e,n,r,i){jt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Cr(t,e,n){jt(t)?t.appendChild(e,n):e.appendChild(n)}function xr(t,e,n,r,i){null!==r?Ir(t,e,n,r,i):Cr(t,e,n)}function Ar(t,e){return jt(t)?t.parentNode(e):e.parentNode}function jr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)xr(o,i,n[a],s,!1);else xr(o,i,n,s,!1)}function kr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Nr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return kr(t,n);{const n=t[e.index];return ft(n)?Nr(-1,n):Nt(n)}}if(32&n)return gr(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=mr(n),o=r.projection[e.projection];return null!=o?kr(i,o):kr(t,e.next)}}return null}function Nr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return kr(t,r)}return e[7]}function Dr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&hr(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Dr(t,e,n.child,r,i,o,!1),wr(e,t,i,a,o);else if(32&u){const s=gr(n,r);let u;for(;u=s();)wr(e,t,i,u,o);wr(e,t,i,a,o)}else 16&u?Pr(t,e,r,n,i,o):wr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Rr(t,e,n,r,i,o){Dr(n,r,t.firstChild,e,i,o,!1)}function Pr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)wr(e,t,i,a[u],o);else Dr(t,e,a,s[3],i,o,!0)}function Lr(t,e,n){jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Fr(t,e,n){jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Mr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ur="ng-template";function Vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Mr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qr(t){return 4===t.type&&t.value!==Ur}function Br(t,e,n){return e===(4!==t.type||n?t.value:Ur)}function Hr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Br(t,u,n)||""===u&&1===e.length){if(zr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Vr(t.attrs,c,n)){if(zr(r))return!1;s=!0}continue}const l=Gr(8&r?"class":u,i,qr(t),n);if(-1===l){if(zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Mr(e,c,0)||2&r&&c!==t){if(zr(r))return!1;s=!0}}}}else{if(!s&&!zr(r)&&!zr(u))return!1;if(s&&zr(u))continue;s=!1,r=u|1&r}}return zr(r)||s}function zr(t){return 0==(1&t)}function Gr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hr(t,e[r],n))return!0;return!1}function Wr(t,e){return t?":not("+e.trim()+")":e}function Qr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||zr(s)||(e+=Wr(o,i),i=""),r=s,o=o||!zr(r);n++}return""!==i&&(e+=Wr(o,i)),e}const $r={};function Jr(t){Yr(Gt(),zt(),he()+t,Jt())}function Yr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}fe(n)}function Xr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ne(i),n.contentQueries(2,e[o],o)}}}function Zr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ti(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Wt(),s=$t(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function ei(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ni(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&ki(1,r,n);const i=t.template;null!==i&&oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xr(t,e),t.staticViewQueries&&ki(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function ri(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const o=Jt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&oi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ye(e,0)}if(function(t){for(let e=yr(t);null!==e;e=vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=yr(t);null!==e;e=vr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&ri(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,o=n[++t],s=n[++t];Zt(o,i),s(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Si(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ki(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{le()}}function ii(t,e,n,r){const i=e[10],o=!Jt(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&ni(t,e,r),ri(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function oi(t,e,n,r,i){const o=he();try{fe(-1),2&r&&e.length>ct&&Yr(t,e,ct,Jt()),n(r,i)}finally{fe(o)}}function si(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||De(n,e),hr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&wi(e,n,r);const u=Ge(e,t,a,n);hr(u,e),null!==s&&_i(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{fe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||gi(r,i)}}finally{fe(-1),te(s)}}(t,e,n))}function ai(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ui(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ci(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ci(t,e,n,r,i,o,s,a,u,c){const l=ct+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:$r);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function li(t,e,n,r){const i=Di(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ri(t).push(r,i.length-1))}function hi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function fi(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Li(t,n,c,r,i),pt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,jt(o)?o.setProperty(u,r,i):Se(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function di(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Kr(n,s.selectors,!1)&&(i||(i=[]),Fe(De(n,e),t,s.type),mt(s)?(mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,vi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ei(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Te(n.mergedAttrs,c.hostAttrs),bi(t,n,e,u,c),yi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||qr(e)?null:Oi(n,i);o.push(c),s=hi(n,u,s),a=hi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new vt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),i}function pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function gi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function yi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new _e(o,mt(i),null);t.blueprint[r]=s,n[r]=s,pi(t,e,0,r,ei(t,n,i.hostVars,$r),i)}function wi(t,e,n){const r=Dt(e,t),i=ui(n),o=t[10],s=Ci(t,Zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function _i(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Oi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ei(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Si(t,e){const n=Pt(e,t);if(Mt(n)){const t=n[1];80&n[2]?ri(t,n,t.template,n[8]):n[5]>0&&Ti(n)}}function Ti(t){for(let n=yr(t);null!==n;n=vr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ri(t,e,t.template,e[8])}else e[5]>0&&Ti(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Mt(r)&&r[5]>0&&Ti(r)}}function Ii(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ni(r,n,n[8])}function Ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=mr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ai(t,e,n){const r=e[10];r.begin&&r.begin();try{ri(t,e,t.template,n)}catch(i){throw Pi(e,i),i}finally{r.end&&r.end()}}function ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];ii(i,r,i.template,n)}}(t[8])}function ki(t,e,n){ne(0),e(t,n)}const Ni=(()=>Promise.resolve(null))();function Di(t){return t[7]||(t[7]=[])}function Ri(t){return t.cleanup||(t.cleanup=[])}function Pi(t,e){const n=t[9],r=n?n.get(lr,null):null;r&&r.handleError(e)}function Li(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Fi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Mi=new Xe("INJECTOR",-1);class Ui{get(t,e=hn){if(e===hn){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const Vi=new Xe("Set Injector scope."),qi={},Bi={},Hi=[];let zi=void 0;function Gi(){return void 0===zi&&(zi=new Ui),zi}function Ki(t,e=null,n=null,r){return new Wi(t,n,e||Gi(),r)}class Wi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mi,$i(void 0,this));const o=this.records.get(Vi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=hn,n=j.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Xe)&&E(t);e=n&&this.injectableDefInScope(n)?$i(Qi(t),qi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?Gi():this.parent).get(t,e=n&j.Optional&&e===hn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[dn]&&i.unshift(e[dn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||Hi))}}this.injectorDefTypes.add(o),this.records.set(o,$i(r.factory,qi));const a=r.providers;if(null!=a&&!s){const e=t;nn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Yi(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Ji(t)?$i(void 0,t.useValue):$i(function(t,e,n){let r=void 0;if(Yi(t)){const e=w(t);return yt(e)||Qi(e)}if(Ji(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>bn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Qi(e);r=()=>new e(...wn(t.deps))}var i;return r}(t),qi)}(t);if(Yi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=$i(void 0,qi,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===qi&&(e.value=Bi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Qi(t){const e=E(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof Xe)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function $i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ji(t){return null!==t&&"object"==typeof t&&pn in t}function Yi(t){return"function"==typeof t}const Xi=function(t,e,n){return function(t,e=null,n=null,r){const i=Ki(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Zi=(()=>{class t{static create(t,e){return Array.isArray(t)?Xi(t,e,""):Xi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=hn,t.NULL=new Ui,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>bn(Mi)}),t.__NG_ELEMENT_ID__=-1,t})();function to(t,e){pe(Lt(t)[1],Kt())}let eo=null;function no(){if(!eo){const t=q.Symbol;if(t&&t.iterator)eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(eo=n)}}}return eo}function ro(t){return!!io(t)&&(Array.isArray(t)||!(t instanceof Map)&&no()in t)}function io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function so(t,e,n,r){const i=zt();return oo(i,Xt(),e)&&(Gt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)jt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?bt(o):s(o,r||"",i);jt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(de(),i,t,e,n,r)),so}function ao(t,e,n,r,i,o,s,a){const u=zt(),c=Gt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ti(e,t,4,s||null,Ut(c,a));di(e,n,l,Ut(c,u)),pe(e,l);const h=l.tViews=ci(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");jr(c,u,f,h),hr(f,u),Ci(u,u[l]=Ei(f,u,f,h)),gt(h)&&si(c,u,h),null!=s&&ai(u,h,a)}function uo(t,e=j.Default){const n=zt();return null===n?bn(t,e):Ve(Kt(),n,w(t),e)}function co(t,e,n){const r=zt();return oo(r,Xt(),e)&&fi(Gt(),de(),r,t,e,r[11],n,!1),co}function lo(t,e,n,r,i){const o=i?"class":"style";Li(t,n,e.inputs[o],o,r)}function ho(t,e,n,r){const i=zt(),o=Gt(),s=ct+t,a=i[11],u=i[s]=_r(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ti(e,t,2,i,Ut(a,o));return di(e,n,u,Ut(a,s)),null!==u.attrs&&Fi(u,u.attrs,!1),null!==u.mergedAttrs&&Fi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Oe(a,u,l);const h=c.classes;null!==h&&Fr(a,u,h);const f=c.styles;null!==f&&Lr(a,u,f),64!=(64&c.flags)&&jr(o,i,u,c),0===Bt.lFrame.elementDepthCount&&hr(u,i),Bt.lFrame.elementDepthCount++,gt(c)&&(si(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ai(i,c)}function fo(){let t=Kt();$t()?Bt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(pe(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&lo(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&lo(n,e,zt(),e.stylesWithoutHost,!1)}function po(t,e,n,r){ho(t,e,n,r),fo()}function go(t){return!!t&&"function"==typeof t.then}function mo(t){return!!t&&"function"==typeof t.subscribe}function yo(t,e,n=!1,r){const i=zt(),o=Gt(),s=Kt();return function(t,e,n,r,i,o,s=!1,a){const u=gt(r),c=t.firstCreatePass&&Ri(t),l=Di(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,m=a?t=>a(Nt(t[r.index])).target:r.index;if(jt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=bo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=bo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=bo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),yo}function vo(t,e,n){try{return!1!==e(n)}catch(r){return Pi(t,r),!1}}function bo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&xi(s);let a=vo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=vo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function wo(t,e=""){const n=zt(),r=Gt(),i=t+ct,o=r.firstCreatePass?ti(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return jt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);jr(r,n,s,o),Qt(o,!1)}function _o(t){return Oo("",t,""),_o}function Oo(t,e,n){const r=zt(),i=function(t,e,n,r){return oo(t,Xt(),n)?e+bt(n)+r:$r}(r,t,e,n);return i!==$r&&function(t,e,n){const r=function(t,e){return Nt(e[t])}(e,t);!function(t,e,n){jt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),Oo}function Eo(t,e,n){const r=zt();return oo(r,Xt(),e)&&fi(Gt(),de(),r,t,e,r[11],n,!0),Eo}const So=void 0;var To=["en",[["a","p"],["AM","PM"],So],[["AM","PM"],So,So],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],So,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],So,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",So,"{1} 'at' {0}",So],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Io={};function Co(t,e,n){"string"!=typeof e&&(n=e,e=t[No.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Io[e]=t,n&&(Io[e][No.ExtraData]=n)}function xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ko(e);if(n)return n;const r=e.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return To;throw new Error(`Missing locale data for the locale "${t}".`)}function Ao(t){return xo(t)[No.CurrencyCode]||null}function jo(t){return xo(t)[No.PluralCase]}function ko(t){return t in Io||(Io[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),Io[t]}var No=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Do="en-US";let Ro=Do;function Po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ro=t.toLowerCase().replace(/_/g,"-"))}class Lo{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Mo=(()=>{class t{}return t.NULL=new Fo,t})();function Uo(...t){}function Vo(t,e){return new Bo(Dt(t,e))}const qo=function(){return Vo(Kt(),zt())};let Bo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qo,t})();class Ho{}let zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Go(),t})();const Go=function(){const t=zt(),e=Pt(Kt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Ko=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Qo=new Wo("11.0.9");class $o{constructor(){}supports(t){return ro(t)}create(t){return new Yo(t)}}const Jo=(t,e)=>e;class Yo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Jo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<es(n,r,i)?e:n,s=es(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ro(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[no()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ts),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ts),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ts{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function es(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ns{constructor(){}supports(t){return t instanceof Map||io(t)}create(){return new rs}}class rs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||io(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new is(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class is{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let os=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new cn,new an]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new $o])}),t})(),ss=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new cn,new an]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new ns])}),t})();function as(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),ft(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&as(e[1],e,n,r)}const s=n.type;if(8&s)as(t,e,n.child,r);else if(32&s){const t=gr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=mr(t);as(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class us{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return as(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Er(t,n),on(e,n))}this._attachedToViewContainer=!1}Sr(this._lView[1],this._lView)}onDestroy(t){li(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ai(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{Ai(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Rr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class cs extends us{constructor(t){super(t),this._view=t}detectChanges(){ji(this._view)}checkNoChanges(){!function(t){Yt(!0);try{ji(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const ls=fs;let hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ls,t.__ChangeDetectorRef__=!0,t})();function fs(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Pt(t.index,e);return new us(n,n)}return 47&t.type?new us(e[16],e):null}(Kt(),zt(),t)}const ds=[new ns],ps=new os([new $o]),gs=new ss(ds),ms=function(){return ws(Kt(),zt())};let ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=ms,t})();const vs=ys,bs=class extends vs{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Zr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ni(e,n,t),new us(n)}};function ws(t,e){return 4&t.type?new bs(e,t,Vo(t,e)):null}class _s{}class Os{}const Es=function(){return As(Kt(),zt())};let Ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=Es,t})();const Ts=Ss,Is=class extends Ts{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Ce(t)){const e=Ae(t,this._hostLView),n=xe(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Cs(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(_s,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Is(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],rn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Nr(i,o),a=n[11],u=Ar(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Rr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),rn(xs(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Cs(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Er(this._lContainer,e);n&&(on(xs(this._lContainer),e),Sr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Er(this._lContainer,e);return n&&null!=on(xs(this._lContainer),e)?new us(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Cs(t){return t[8]}function xs(t){return t[8]||(t[8]=[])}function As(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Ir(n,Ar(n,r),i,function(t,e){return jt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ei(r,e,i,t),Ci(e,n)}return new Is(n,t,e)}const js={};class ks extends Mo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new Rs(e,this.ngModule)}}function Ns(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ds=new Xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fr});class Rs extends Lo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Qr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ns(this.componentDef.inputs)}get outputs(){return Ns(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,js,i);return o!==js||r===js?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ho,kt),s=i.get(Ko,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(jt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):_r(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:fr,clean:Ni,playerHandler:null,flags:0},f=ci(0,null,null,1,0,null,null,null,null,null),d=Zr(null,f,h,l,null,null,o,a,s,i);let p,g;oe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ti(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Fi(a,u,!0),null!==t&&(Oe(i,t,u),null!==a.classes&&Fr(i,t,a.classes),null!==a.styles&&Lr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Zr(n,ui(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Fe(De(a,n),s,e.type),mi(s,a),vi(a,n.length,1)),Ci(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Oe(a,c,["ng-version",Qo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,c,t),e&&e.length>0&&Fr(a,c,e.join(" "))}if(g=Rt(f,ct),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),bi(t,r,e,ei(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);hr(i,e);const o=Dt(r,e);return o&&hr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const a=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),gi(e,s)),s}(t,this.componentDef,d,h,[to]),ni(f,d,null)}finally{le()}return new Ps(this.componentType,p,Vo(g,d),d,g)}}class Ps extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new cs(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ls=new Map;class Fs extends _s{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ks(this);const n=ut(t),r=t[Q]||null;r&&Po(r),this._bootstrapComponents=dr(n.bootstrap),this._r3Injector=Ki(t,e,[{provide:_s,useValue:this},{provide:Mo,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Zi.THROW_IF_NOT_FOUND,n=j.Default){return t===Zi||t===_s||t===Mi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ms extends Os{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,Ls.get(i),n),Ls.set(i,n));const o=dr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Fs(this.moduleType,t)}}const Us=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Vs(){return this._results[no()]()}class qs{constructor(){this.dirty=!0,this._results=[],this.changes=new Us,this.length=0;const t=no(),e=qs.prototype;e[t]||(e[t]=Vs)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=en(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Bs{constructor(t){this.queryList=t,this.matches=null}clone(){return new Bs(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hs{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Hs(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ta(t,e).matches&&this.queries[e].setDirty()}}class zs{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Gs{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Gs(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ks{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ks(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ws(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===ys?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bo||r===Ss||r===ys&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ws(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qs(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Vo(t,e):4&t.type?ws(t,e):null}(e,t):-2===n?function(t,e,n){return n===Bo?Vo(e,t):n===ys?ws(e,t):n===Ss?As(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function $s(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Qs(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Js(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=$s(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Js(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Js(n[1],n,i,r)}}}}}return r}function Ys(t){const e=zt(),n=Gt(),r=ee();ne(r+1);const i=ta(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Js(n,e,r,[]):$s(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Xs(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Gs),t.queries.track(new Ks(e,n))}(t,new zs(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new qs;li(t,e,n,n.destroy),null===e[19]&&(e[19]=new Hs),e[19].queries.push(new Bs(n))}(t,e)}(Gt(),zt(),e,n,r,0,Kt(),t)}function Zs(){return t=zt(),e=ee(),t[19].queries[e].queryList;var t,e}function ta(t,e){return t.queries.getByIndex(e)}function ea(t=j.Default){const e=fs(!0);if(null!=e||t&j.Optional)return e;_t("ChangeDetectorRef")}const na=new Xe("Application Initializer");let ra=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Uo,this.reject=Uo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();go(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(na,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ia=new Xe("AppId"),oa={provide:ia,useFactory:function(){return`${sa()}${sa()}${sa()}`},deps:[]};function sa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aa=new Xe("Platform Initializer"),ua=new Xe("Platform ID"),ca=new Xe("appBootstrapListener");let la=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ha=new Xe("LocaleId"),fa=new Xe("DefaultCurrencyCode");class da{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pa=function(t){return new Ms(t)},ga=pa,ma=function(t){return Promise.resolve(pa(t))},ya=function(t){const e=pa(t),n=dr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new Rs(n)),t},[]);return new da(e,n)},va=ya,ba=function(t){return Promise.resolve(ya(t))};let wa=(()=>{class t{constructor(){this.compileModuleSync=ga,this.compileModuleAsync=ma,this.compileModuleAndAllComponentsSync=va,this.compileModuleAndAllComponentsAsync=ba}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const _a=(()=>Promise.resolve(0))();function Oa(t){"undefined"==typeof Zone?_a.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ea{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ia(t),Ta(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ia(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ca(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),xa(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ca(t),e.invoke(r,i,o,s,a)}finally{xa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ia(t),Ta(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Sa,Uo,Uo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Sa={};function Ta(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ia(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ca(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xa(t){t._nesting--,Ta(t)}class Aa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ja=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),Oa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Ea))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),ka=(()=>{class t{constructor(){this._applications=new Map,Pa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Pa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Na{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Da(t){Pa=t}let Ra,Pa=new Na,La=!0,Fa=!1;function Ma(){return Fa=!0,La}function Ua(){if(Fa)throw new Error("Cannot enable prod mode after platform setup.");La=!1}const Va=new Xe("AllowMultipleToken");class qa{constructor(t,e){this.name=t,this.token=e}}function Ba(t,e,n=[]){const r="Platform: "+e,i=new Xe(r);return(e=[])=>{let o=Ha();if(!o||o.injector.get(Va,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Vi,useValue:"platform"});!function(t){if(Ra&&!Ra.destroyed&&!Ra.injector.get(Va,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ra=t.get(za);const e=t.get(aa,null);e&&e.forEach(t=>t())}(Zi.create({providers:t,name:r}))}return function(t){const e=Ha();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ha(){return Ra&&!Ra.destroyed?Ra:null}let za=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Aa:("zone.js"===t?void 0:t)||new Ea({enableLongStackTrace:Ma(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ea,useValue:n}];return n.run(()=>{const e=Zi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(lr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Wa(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return go(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ra);return t.runInitializers(),t.donePromise.then(()=>(Po(i.injector.get(ha,Do)||Do),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ga({},e);return function(t,e,n){const r=new Ms(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ka);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(Zi))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ga(t,e){return Array.isArray(e)?e.reduce(Ga,t):Object.assign(Object.assign({},t),e)}let Ka=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),Oa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Lo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(_s),i=n.create(Zi.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ja,null),a=s&&i.injector.get(ka);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Wa(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Ma()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ca,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Ea),bn(la),bn(Zi),bn(lr),bn(Mo),bn(ra))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Wa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qa{}class $a{}const Ja={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ya=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ja}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Xa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Xa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(bn(wa),bn($a,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Xa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Za=function(t){return null},tu=Ba(null,"core",[{provide:ua,useValue:"unknown"},{provide:za,deps:[Zi]},{provide:ka,deps:[]},{provide:la,deps:[]}]),eu=[{provide:Ka,useClass:Ka,deps:[Ea,la,Zi,lr,Mo,ra]},{provide:Ds,deps:[Ea],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ra,useClass:ra,deps:[[new an,na]]},{provide:wa,useClass:wa,deps:[]},oa,{provide:os,useFactory:function(){return ps},deps:[]},{provide:ss,useFactory:function(){return gs},deps:[]},{provide:ha,useFactory:function(t){return Po(t=t||"undefined"!=typeof $localize&&$localize.locale||Do),t},deps:[[new sn(ha),new an,new cn]]},{provide:fa,useValue:"USD"}];let nu=(()=>{class t{constructor(t){}}return t.\u0275mod=nt({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(bn(Ka))},providers:eu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Cb({type:t}),t.\u0275inj=u.Bb({factory:function(e){return new(e||t)(u.Jb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Jb)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=Object(r.Ab)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Jb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Jb)(s).location;return new b(Object(r.Jb)(a),e&&e.origin||"")}const v=new r.q("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(v,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(v,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m),r.Jb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ab)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Jb)(m),Object(r.Jb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.kb;class I{}let C=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K),r.Eb(r.s))},t.\u0275dir=r.zb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:C}]}),t})();function N(t){return"server"===t}let D=(()=>{class t{}return t.\u0275prov=Object(r.Ab)({token:t,providedIn:"root",factory:()=>new R(Object(r.Jb)(s),window)}),t})();class R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=M||(M=document.querySelector("base"),M)?M.getAttribute("href"):null;return null==e?null:(n=e,F||(F=document.createElement("a")),F.setAttribute("href",n),"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname);var n}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let F,M=null;const U=new r.q("TRANSITION_ID"),V=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[U,s,r.r],multi:!0}];class q{static init(){Object(r.V)(new q)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const B=new r.q("EventManagerPlugins");let H=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(B),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),K=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function $(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function J(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Y=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=$(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(H),r.Jb(K),r.Jb(r.c))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,J(n)):this.eventManager.addEventListener(t,e,J(n))}}class Z extends X{constructor(t,e,n,r){super(t),this.component=n;const i=$(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class tt extends X{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=$(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let et=(()=>{class t extends z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const nt=["alt","control","meta","shift"],rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(nt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&it.hasOwnProperty(e)&&(e=it[e]))}return rt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),nt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(s))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const at=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){L.makeCurrent(),q.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],ut=Object(r.R)(r.U,"browser",at),ct=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:B,useClass:et,multi:!0,deps:[s,r.z,r.B]},{provide:B,useClass:st,multi:!0,deps:[s]},[],{provide:Y,useClass:Y,deps:[H,K,r.c]},{provide:r.E,useExisting:Y},{provide:G,useExisting:K},{provide:K,useClass:K,deps:[s]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:H,useClass:H,deps:[B,r.z]},[]];let lt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:U,useExisting:r.c},V]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(t,12))},providers:ct,imports:[k,r.f]}),t})();"undefined"!=typeof window&&window;var ht=n("Cfvw"),ft=n("LRne"),dt=n("XNiG"),pt=n("9ppp");class gt extends dt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pt.a;return this._value}next(t){super.next(this._value=t)}}var mt=n("z+Ro"),yt=n("DH7j"),vt=n("7o/Q");class bt extends vt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class wt extends vt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var _t=n("SeVD"),Ot=n("HDdC");function Et(t,e,n,r,i=new wt(t,n,r)){if(!i.closed)return e instanceof Ot.a?e.subscribe(i):Object(_t.a)(e)(i)}var St=n("yCtX");const Tt={};class It{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ct(t,this.resultSelector))}}class Ct extends bt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Et(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Tt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const xt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var At=n("bHdf");function jt(...t){return Object(At.a)(1)(Object(ft.a)(...t))}var kt=n("EY2u");function Nt(t){return new Ot.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ht.a)(n):Object(kt.b)()).subscribe(e)})}var Dt=n("lJxs"),Rt=n("zx2A");function Pt(t,e){return"function"==typeof e?n=>n.pipe(Pt((n,r)=>Object(ht.a)(t(n,r)).pipe(Object(Dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Lt(t))}class Lt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ft(t,this.project))}}class Ft extends Rt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Rt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Rt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Mt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ut(t){return e=>0===t?Object(kt.b)():e.lift(new Vt(t))}class Vt{constructor(t){if(this.total=t,this.total<0)throw new Mt}call(t,e){return e.subscribe(new qt(t,this.total))}}class qt extends vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Bt(...t){const e=t[t.length-1];return Object(mt.a)(e)?(t.pop(),n=>jt(t,n,e)):e=>jt(t,e)}function Ht(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new zt(t,e,n))}}class zt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Gt(t,this.accumulator,this.seed,this.hasSeed))}}class Gt extends vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Kt(t,e){return function(n){return n.lift(new Wt(t,e))}}class Wt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qt(t,this.predicate,this.thisArg))}}class Qt extends vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function $t(t){return function(e){const n=new Jt(t),r=e.lift(n);return n.caught=r}}class Jt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Yt(t,this.selector,this.caught))}}class Yt extends Rt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Rt.a(this);this.add(r);const i=Object(Rt.c)(n,r);i!==r&&this.add(i)}}}var Xt=n("5+tZ");function Zt(t,e){return Object(Xt.a)(t,e,1)}function te(t){return function(e){return 0===t?Object(kt.b)():e.lift(new ee(t))}}class ee{constructor(t){if(this.total=t,this.total<0)throw new Mt}call(t,e){return e.subscribe(new ne(t,this.total))}}class ne extends vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function re(t=se){return e=>e.lift(new ie(t))}class ie{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new oe(t,this.errorFactory))}}class oe extends vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(xv){t=xv}this.destination.error(t)}}}function se(){return new xt}function ae(t=null){return e=>e.lift(new ue(t))}class ue{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ce(t,this.defaultValue))}}class ce extends vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var le=n("SpAZ");function he(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):le.a,Ut(1),n?ae(e):re(()=>new xt))}var fe=n("vkgz"),de=n("quSY");class pe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ge(t,this.callback))}}class ge extends vt.a{constructor(t,e){super(t),this.add(new de.a(e))}}class me{constructor(t,e){this.id=t,this.url=e}}class ye extends me{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ve extends me{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class be extends me{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends me{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _e extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends me{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Se extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ce{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ae{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class Re{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pe(t){return new Re(t)}function Le(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Fe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Me(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ue(t[i],e[i]))return!1;return!0}function Ue(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ve(t){return Array.prototype.concat.apply([],t)}function qe(t){return t.length>0?t[t.length-1]:null}function Be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function He(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(ht.a)(Promise.resolve(t)):Object(ft.a)(t)}function ze(t,e,n){return n?function(t,e){return Me(t,e)}(t.queryParams,e.queryParams)&&Ge(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ue(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ke(t.root,e.root)}function Ge(t,e){if(!Ye(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ge(t.children[n],e.children[n]))return!1}return!0}function Ke(t,e){return We(t,e,e.segments)}function We(t,e,n){if(t.segments.length>n.length)return!!Ye(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ye(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ke(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Ye(t.segments,r)&&!!t.children.primary&&We(t.children.primary,e,i)}}class Qe{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return tn.serialize(this)}}class $e{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Be(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class Je{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pe(this.parameters)),this._parameterMap}toString(){return cn(this)}}function Ye(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Xe{}class Ze{parse(t){const e=new pn(t);return new Qe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+nn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${on(e)}=${on(t)}`).join("&"):`${on(e)}=${on(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const tn=new Ze;function en(t){return t.segments.map(t=>cn(t)).join("/")}function nn(t,e){if(!t.hasChildren())return en(t);if(e){const e=t.children.primary?nn(t.children.primary,!1):"",n=[];return Be(t.children,(t,e)=>{e!==De&&n.push(`${e}:${nn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Be(t.children,(t,r)=>{r===De&&(n=n.concat(e(t,r)))}),Be(t.children,(t,r)=>{r!==De&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===De?[nn(t.children.primary,!1)]:[`${n}:${nn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${en(t)}/${e[0]}`:`${en(t)}/(${e.join("//")})`}}function rn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(t){return rn(t).replace(/%3B/gi,";")}function sn(t){return rn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function an(t){return decodeURIComponent(t)}function un(t){return an(t.replace(/\+/g,"%20"))}function cn(t){return`${sn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${sn(t)}=${sn(e[t])}`).join("")}`;var e}const ln=/^[^\/()?;=#]+/;function hn(t){const e=t.match(ln);return e?e[0]:""}const fn=/^[^=?&#]+/,dn=/^[^?&#]+/;class pn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new $e(t,e)),n}parseSegment(){const t=hn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Je(an(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=hn(this.remaining);t&&(n=t,this.capture(n))}t[an(e)]=an(n)}parseQueryParam(t){const e=function(t){const e=t.match(fn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(dn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=un(e),i=un(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=De);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new $e([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yn(t,this._root).map(t=>t.value)}}function mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=mn(t,n);if(e)return e}return null}function yn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yn(t,n);if(r.length)return r.unshift(e),r}return[]}class vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wn extends gn{constructor(t,e){super(t),this.snapshot=e,In(this,t)}toString(){return this.snapshot.toString()}}function _n(t,e){const n=function(t,e){const n=new Sn([],{},{},"",{},De,e,null,t.root,-1,{});return new Tn("",new vn(n,[]))}(t,e),r=new gt([new Je("",{})]),i=new gt({}),o=new gt({}),s=new gt({}),a=new gt(""),u=new On(r,i,s,a,o,De,e,n.root);return u.snapshot=n.root,new wn(new vn(u,[]),n)}class On{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Dt.a)(t=>Pe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Dt.a)(t=>Pe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function En(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Sn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends gn{constructor(t,e){super(e),this.url=t,In(this,e)}toString(){return Cn(this._root)}}function In(t,e){e.value._routerState=t,e.children.forEach(e=>In(t,e))}function Cn(t){const e=t.children.length>0?` { ${t.children.map(Cn).join(", ")} } `:"";return`${t.value}${e}`}function xn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Me(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Me(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Me(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Me(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function An(t,e){return Me(t.params,e.params)&&function(t,e){return Ye(t,e)&&t.every((t,n)=>Me(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||An(t.parent,e.parent))}function jn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return jn(t,e,r);return jn(t,e)})}(t,e,n);return new vn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return kn(e,t),t}{const n=new On(new gt((r=e.value).url),new gt(r.params),new gt(r.queryParams),new gt(r.fragment),new gt(r.data),r.outlet,r.component,r),i=e.children.map(e=>jn(t,e));return new vn(n,i)}}var r}function kn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)kn(t.children[n],e.children[n])}function Nn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dn(t){return"object"==typeof t&&null!=t&&t.outlets}function Rn(t,e,n,r,i){let o={};return r&&Be(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Qe(n.root===t?e:Pn(n.root,t,e),o,i)}function Pn(t,e,n){const r={};return Be(t.children,(t,i)=>{r[i]=t===e?n:Pn(t,e,n)}),new $e(t.segments,r)}class Ln{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Nn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Dn);if(r&&r!==qe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Mn(t,e,n){if(t||(t=new $e([],{})),0===t.segments.length&&t.hasChildren())return Un(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Dn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Hn(a,u,e))return o;r+=2}else{if(!Hn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new $e(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new $e(t.segments.slice(r.pathIndex),t.children),Un(e,0,i)}return r.match&&0===i.length?new $e(t.segments,{}):r.match&&!t.hasChildren()?Vn(t,e,n):r.match?Un(t,0,i):Vn(t,e,n)}function Un(t,e,n){if(0===n.length)return new $e(t.segments,{});{const r=function(t){return Dn(t[0])?t[0].outlets:{[De]:t}}(n),i={};return Be(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Mn(t.children[r],e,n))}),Be(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new $e(t.segments,i)}}function Vn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Dn(o)){const t=qn(o.outlets);return new $e(r,t)}if(0===i&&Nn(n[0])){r.push(new Je(t.segments[e].path,n[0])),i++;continue}const s=Dn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Nn(a)?(r.push(new Je(s,Bn(a))),i+=2):(r.push(new Je(s,{})),i++)}return new $e(r,{})}function qn(t){const e={};return Be(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Vn(new $e([],{}),0,t))}),e}function Bn(t){const e={};return Be(t,(t,n)=>e[n]=""+t),e}function Hn(t,e,n){return t==n.path&&Me(e,n.parameters)}class zn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),xn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Be(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=bn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=bn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ke(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ae(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(xn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gn(t){xn(t.value),t.children.forEach(Gn)}class Kn{constructor(t,e){this.routes=t,this.module=e}}function Wn(t){return"function"==typeof t}function Qn(t){return t instanceof Qe}const $n=Symbol("INITIAL_VALUE");function Jn(){return Pt(t=>function(...t){let e=void 0,n=void 0;return Object(mt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(yt.a)(t[0])&&(t=t[0]),Object(St.a)(t,n).lift(new It(e))}(t.map(t=>t.pipe(Ut(1),Bt($n)))).pipe(Ht((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==$n)return t;if(r===$n&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qn(r))return r}return t},t)},$n),Kt(t=>t!==$n),Object(Dt.a)(t=>Qn(t)?t:!0===t),Ut(1)))}let Yn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"router-outlet")},directives:function(){return[Br]},encapsulation:2}),t})();function Xn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Zn(r,tr(e,r))}}function Zn(t,e){t.children&&Xn(t.children,e)}function tr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function er(t){const e=t.children&&t.children.map(er),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=Yn),n}function nr(t){return t.outlet||De}function rr(t,e){const n=t.filter(t=>nr(t)===e);return n.push(...t.filter(t=>nr(t)!==e)),n}const ir={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function or(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ir):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fe)(n,t,e);if(!i)return Object.assign({},ir);const o={};Be(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function sr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ar(t,e,n)&&nr(n)!==De)}(t,n,r)){const i=new $e(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&nr(o)!==De){const n=new $e([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[nr(o)]=n}return i}(t,e,r,new $e(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ar(t,e,n))}(t,n,r)){const o=new $e(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ar(t,n,a)&&!i[nr(a)]){const n=new $e([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[nr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new $e(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ur(t,e,n,r){return!!(nr(t)===r||r!==De&&ar(e,n,t))&&("**"===t.path||or(e,t,n).matched)}function cr(t,e,n){return 0===e.length&&!t.children[n]}class lr{constructor(t){this.segmentGroup=t||null}}class hr{constructor(t){this.urlTree=t}}function fr(t){return new Ot.a(e=>e.error(new lr(t)))}function dr(t){return new Ot.a(e=>e.error(new hr(t)))}function pr(t){return new Ot.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class gr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=sr(this.urlTree.root,[],[],this.config).segmentGroup,e=new $e(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,De).pipe(Object(Dt.a)(t=>this.createUrlTree(mr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe($t(t=>{if(t instanceof hr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,De).pipe(Object(Dt.a)(e=>this.createUrlTree(mr(e),t.queryParams,t.fragment))).pipe($t(t=>{if(t instanceof lr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new $e([],{[De]:t}):t;return new Qe(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Dt.a)(t=>new $e([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ht.a)(r).pipe(Zt(r=>{const i=n.children[r],o=rr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Dt.a)(t=>({segment:t,outlet:r})))}),Ht((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):le.a,te(1),n?ae(e):re(()=>new xt))}())}expandSegment(t,e,n,r,i,o){return Object(ht.a)(n).pipe(Zt(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe($t(t=>{if(t instanceof lr)return Object(ft.a)(null);throw t}))),he(t=>!!t),$t((t,n)=>{if(t instanceof xt||"EmptyError"===t.name){if(cr(e,r,i))return Object(ft.a)(new $e([],{}));throw new lr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ur(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):fr(e):fr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dr(i):this.lineralizeSegments(n,i).pipe(Object(Xt.a)(n=>{const i=new $e(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=or(e,r,i);if(!s)return fr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?dr(l):this.lineralizeSegments(r,l).pipe(Object(Xt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Dt.a)(t=>(n._loadedConfig=t,new $e(r,{})))):Object(ft.a)(new $e(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=or(e,n,r);if(!o)return fr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Xt.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=sr(e,s,u,o),l=new $e(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Dt.a)(t=>new $e(s,t)));if(0===o.length&&0===c.length)return Object(ft.a)(new $e(s,{}));const h=nr(n)===i;return this.expandSegment(r,l,o,c,h?De:i,!0).pipe(Object(Dt.a)(t=>new $e(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ft.a)(new Kn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ft.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Xt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Dt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ot.a(e=>e.error(Le(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ft.a)(new Kn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Wn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Wn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return He(o)});return Object(ft.a)(i).pipe(Jn(),Object(fe.a)(t=>{if(!Qn(t))return;const e=Le(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Dt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ft.a)(n);if(r.numberOfChildren>1||!r.children.primary)return pr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Qe(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Be(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Be(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new $e(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mr(t){const e={};for(const n of Object.keys(t.children)){const r=mr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new $e(t.segments.concat(e.segments),e.children)}return t}(new $e(t.segments,e))}class yr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vr{constructor(t,e){this.component=t,this.route=e}}function br(t,e,n){const r=t._root;return _r(r,e?e._root:null,n,[r.value])}function wr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function _r(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ye(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ye(t.url,e.url)||!Me(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!An(t,e)||!Me(t.queryParams,e.queryParams);case"paramsChange":default:return!An(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),_r(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vr(a.outlet.component,s))}else s&&Or(e,a,i),i.canActivateChecks.push(new yr(r)),_r(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Be(o,(t,e)=>Or(t,n.getContext(e),i)),i}function Or(t,e,n){const r=bn(t),i=t.value;Be(r,(t,r)=>{Or(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Er{}function Sr(t){return new Ot.a(e=>e.error(t))}class Tr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=sr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,De);if(null===e)return null;const n=new Sn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vn(n,e),i=new Tn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=En(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=rr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Ir(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===De?-1:e.value.outlet===De?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return cr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ur(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?qe(n).parameters:{};i=new Sn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ar(t),nr(t),t.component,t,Cr(e),xr(e)+n.length,jr(t))}else{const r=or(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Sn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ar(t),nr(t),t.component,t,Cr(e),xr(e)+o.length,jr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=sr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new vn(i,t)]}if(0===a.length&&0===c.length)return[new vn(i,[])];const l=nr(t)===r,h=this.processSegment(a,u,c,l?De:r);return null===h?null:[new vn(i,h)]}}function Ir(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ar(t){return t.data||{}}function jr(t){return t.resolve||{}}function kr(t){return Pt(e=>{const n=t(e);return n?Object(ht.a)(n).pipe(Object(Dt.a)(()=>e)):Object(ft.a)(e)})}class Nr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Dr=new r.q("ROUTES");class Rr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Dt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Kn(Ve(r.injector.get(Dr)).map(er),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ht.a)(this.loader.load(t)):He(t()).pipe(Object(Xt.a)(t=>t instanceof r.v?Object(ft.a)(t):Object(ht.a)(this.compiler.compileModuleAsync(t))))}}class Pr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lr,this.attachRef=null}}class Lr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Fr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Mr(t){throw t}function Ur(t,e,n){return e.parse("/")}function Vr(t,e){return Object(ft.a)(null)}let qr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new dt.a,this.errorHandler=Mr,this.malformedUriErrorHandler=Ur,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vr,afterPreactivation:Vr},this.urlHandlingStrategy=new Fr,this.routeReuseStrategy=new Nr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.W);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Qe(new $e([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rr(s,a,t=>this.triggerEvent(new Ie(t)),t=>this.triggerEvent(new Ce(t))),this.routerState=_n(this.currentUrlTree,this.rootComponentType),this.transitions=new gt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Kt(t=>0!==t.id),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pt(t=>{let n=!1,r=!1;return Object(ft.a)(t).pipe(Object(fe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ft.a)(t).pipe(Pt(t=>{const n=this.transitions.getValue();return e.next(new ye(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?kt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Pt(t=>function(t,e,n,r,i){return new gr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Dt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(fe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Xt.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Tr(t,e,n,r,i,o).recognize();return null===s?Sr(new Er):Object(ft.a)(s)}catch(xv){return Sr(xv)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Dt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(fe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new _e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ye(n,this.serializeUrl(r),i,o);e.next(a);const u=_n(r,this.rootComponentType).snapshot;return Object(ft.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),kt.a}),kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(fe.a)(t=>{const e=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{guards:br(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Xt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ft.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ht.a)(t).pipe(Object(Xt.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ft.a)(!0);const s=o.map(o=>{const s=wr(o,e,i);let a;if(function(t){return t&&Wn(t.canDeactivate)}(s))a=He(s.canDeactivate(t,e,n,r));else{if(!Wn(s))throw new Error("Invalid CanDeactivate guard");a=He(s(t,e,n,r))}return a.pipe(he())});return Object(ft.a)(s).pipe(Jn())}(t.component,t.route,n,e,r)),he(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Xt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ht.a)(e).pipe(Zt(e=>jt(function(t,e){return null!==t&&e&&e(new xe(t)),Object(ft.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new je(t)),Object(ft.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nt(()=>{const i=e.guards.map(i=>{const o=wr(i,e.node,n);let s;if(function(t){return t&&Wn(t.canActivateChild)}(o))s=He(o.canActivateChild(r,t));else{if(!Wn(o))throw new Error("Invalid CanActivateChild guard");s=He(o(r,t))}return s.pipe(he())});return Object(ft.a)(i).pipe(Jn())}));return Object(ft.a)(i).pipe(Jn())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ft.a)(!0);const i=r.map(r=>Nt(()=>{const i=wr(r,e,n);let o;if(function(t){return t&&Wn(t.canActivate)}(i))o=He(i.canActivate(e,t));else{if(!Wn(i))throw new Error("Invalid CanActivate guard");o=He(i(e,t))}return o.pipe(he())}));return Object(ft.a)(i).pipe(Jn())}(t,e.route,n))),he(t=>!0!==t,!0))}(r,o,t,e):Object(ft.a)(n)),Object(Dt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(fe.a)(t=>{if(Qn(t.guardsResult)){const e=Le(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Kt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new be(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),kr(t=>{if(t.guards.canActivateChecks.length)return Object(ft.a)(t).pipe(Object(fe.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pt(t=>{let n=!1;return Object(ft.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Xt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ft.a)(t);let o=0;return Object(ht.a)(n).pipe(Zt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ft.a)({});const o={};return Object(ht.a)(i).pipe(Object(Xt.a)(i=>function(t,e,n,r){const i=wr(t,e,r);return He(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(fe.a)(t=>{o[i]=t}))),te(1),Object(Xt.a)(()=>Object.keys(o).length===i.length?Object(ft.a)(o):kt.a))}(t._resolve,t,e,r).pipe(Object(Dt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),En(t,n).resolve),null)))}(t.route,e,r,i)),Object(fe.a)(()=>o++),te(1),Object(Xt.a)(e=>o===n.length?Object(ft.a)(t):kt.a))})),Object(fe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new be(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(fe.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),kr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Dt.a)(t=>{const e=function(t,e,n){const r=jn(t,e._root,n?n._root:void 0);return new wn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(fe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Dt.a)(t=>(new zn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(fe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new be(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new pe(i))),$t(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new be(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new we(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(nl){t.reject(nl)}}var i;return kt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Xn(t),this.config=t.map(er),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Rn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ln(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Be(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ln(n,e,r)}(n);if(o.toRoot())return Rn(e.root,new $e([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Fn(t,t===e.root,0)}const r=Nn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Un(s.segmentGroup,s.index,o.commands):Mn(s.segmentGroup,s.index,o.commands);return Rn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Qn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(xv){e=this.malformedUriErrorHandler(xv,this.urlSerializer,t)}return e}isActive(t,e){if(Qn(t))return ze(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ze(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.M),r.Jb(Xe),r.Jb(Lr),r.Jb(_),r.Jb(r.r),r.Jb(r.w),r.Jb(r.i),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Br=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||De,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Hr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Lr),r.Eb(r.P),r.Eb(r.j),r.Kb("name"),r.Eb(r.h))},t.\u0275dir=r.zb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Hr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===On?this.route:t===Lr?this.childContexts:this.parent.get(t,e)}}class zr{}class Gr{preload(t,e){return Object(ft.a)(null)}}let Kr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Rr(e,n,e=>t.triggerEvent(new Ie(e)),e=>t.triggerEvent(new Ce(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(t=>t instanceof ve),Zt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ht.a)(n).pipe(Object(At.a)(),Object(Dt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Xt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(qr),r.Jb(r.w),r.Jb(r.i),r.Jb(r.r),r.Jb(zr))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Wr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ve&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ne&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ne(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(qr),r.Jb(D),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Qr=new r.q("ROUTER_CONFIGURATION"),$r=new r.q("ROUTER_FORROOT_GUARD"),Jr=[_,{provide:Xe,useClass:Ze},{provide:qr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new qr(null,t,e,n,r,i,s,Ve(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Xe,Lr,_,r.r,r.w,r.i,Dr,Qr,[class{},new r.A],[class{},new r.A]]},Lr,{provide:On,useFactory:function(t){return t.routerState.root},deps:[qr]},{provide:r.w,useClass:r.J},Kr,Gr,class{preload(t,e){return e().pipe($t(()=>Object(ft.a)(null)))}},{provide:Qr,useValue:{enableTracing:!1}}];function Yr(){return new r.y("Router",qr)}let Xr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Jr,ni(e),{provide:$r,useFactory:ei,deps:[[qr,new r.A,new r.I]]},{provide:Qr,useValue:n||{}},{provide:m,useFactory:ti,deps:[a,[new r.p(v),new r.A],Qr]},{provide:Wr,useFactory:Zr,deps:[qr,D,Qr]},{provide:zr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gr},{provide:r.y,multi:!0,useFactory:Yr},[ri,{provide:r.d,multi:!0,useFactory:ii,deps:[ri]},{provide:si,useFactory:oi,deps:[ri]},{provide:r.b,multi:!0,useExisting:si}]]}}static forChild(e){return{ngModule:t,providers:[ni(e)]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb($r,8),r.Jb(qr,8))}}),t})();function Zr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Wr(t,e,n)}function ti(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function ei(t){return"guarded"}function ni(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Dr,multi:!0,useValue:t}]}let ri=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new dt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(qr),r=this.injector.get(Qr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ft.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Qr),n=this.injector.get(Kr),i=this.injector.get(Wr),o=this.injector.get(qr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function ii(t){return t.appInitializer.bind(t)}function oi(t){return t.bootstrapListener.bind(t)}const si=new r.q("Router Initializer");let ai=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-portfolio"]],decls:7,vars:0,consts:[[2,"text-align","center"],[2,"width","900px","margin","0 auto"],["src","assets/curriculum.png","width","100%","alt","",2,"border","1px solid black"]],template:function(t,e){1&t&&(r.Hb(0,"h2",0),r.Tb(1,"Curriculum"),r.Gb(),r.Fb(2,"br"),r.Fb(3,"hr"),r.Fb(4,"br"),r.Hb(5,"div",1),r.Fb(6,"img",2),r.Gb())},styles:[""]}),t})();var ui=n("D0XW");function ci(){return t=>t.lift(new li)}class li{call(t,e){return e.subscribe(new hi(t))}}class hi extends vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new di(t,this.compare,this.keySelector))}}class di extends vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var pi=n("pxpQ"),gi=n("spgP"),mi=n("Jgta"),yi=n("zIRd"),vi=n("qOnz"),bi=n("q/0M"),wi=function(t,e){return(wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oi,Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Si=Si||{},Ti=Ei||self;function Ii(){}function Ci(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ai="closure_uid_"+(1e9*Math.random()>>>0),ji=0;function ki(t,e,n){return t.call.apply(t.bind,arguments)}function Ni(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Di(t,e,n){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ki:Ni).apply(null,arguments)}function Ri(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Pi(){return Date.now()}function Li(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Fi(){this.j=this.j,this.i=this.i}Fi.prototype.j=!1,Fi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ai)&&t[Ai]||(t[Ai]=++ji)}(this)},Fi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Mi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ui=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Vi(t){return Array.prototype.concat.apply([],arguments)}function qi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bi(t){return/^[\s\xa0]*$/.test(t)}var Hi,zi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gi(t,e){return-1!=t.indexOf(e)}function Ki(t,e){return t<e?-1:t>e?1:0}t:{var Wi=Ti.navigator;if(Wi){var Qi=Wi.userAgent;if(Qi){Hi=Qi;break t}}Hi=""}function $i(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ji(t){var e={};for(var n in t)e[n]=t[n];return e}var Yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yi.length;o++)n=Yi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zi(t){return Zi[" "](t),t}Zi[" "]=Ii;var to,eo,no=Gi(Hi,"Opera"),ro=Gi(Hi,"Trident")||Gi(Hi,"MSIE"),io=Gi(Hi,"Edge"),oo=io||ro,so=Gi(Hi,"Gecko")&&!(Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge"))&&!(Gi(Hi,"Trident")||Gi(Hi,"MSIE"))&&!Gi(Hi,"Edge"),ao=Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge");function uo(){var t=Ti.document;return t?t.documentMode:void 0}t:{var co="",lo=(eo=Hi,so?/rv:([^\);]+)(\)|;)/.exec(eo):io?/Edge\/([\d\.]+)/.exec(eo):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eo):ao?/WebKit\/(\S+)/.exec(eo):no?/(?:Version)[ \/]?(\S+)/.exec(eo):void 0);if(lo&&(co=lo?lo[1]:""),ro){var ho=uo();if(null!=ho&&ho>parseFloat(co)){to=String(ho);break t}}to=co}var fo={};function po(t){return function(t,e){var n=fo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=zi(String(to)).split("."),r=zi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ki(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ki(0==s[2].length,0==a[2].length)||Ki(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var go=Ti.document&&ro&&(uo()||parseInt(to,10))||void 0,mo=!ro||9<=Number(go),yo=ro&&!po("9"),vo=function(){if(!Ti.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ti.addEventListener("test",Ii,e),Ti.removeEventListener("test",Ii,e)}catch(n){}return t}();function bo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wo(t,e){if(bo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(so){t:{try{Zi(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_o[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bo.prototype.b=function(){this.defaultPrevented=!0},Li(wo,bo);var _o={2:"touch",3:"pen",4:"mouse"};wo.prototype.b=function(){wo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Oo="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function So(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Eo,this.Y=this.Z=!1}function To(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Io(t){this.src=t,this.a={},this.b=0}function Co(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Mi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(To(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Io.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=xo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new So(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ao="closure_lm_"+(1e6*Math.random()|0),jo={};function ko(t,e,n,r,i){if(r&&r.once)return Do(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ko(t,e[o],n,r,i);return null}return n=qo(n),t&&t[Oo]?t.va(e,n,xi(r)?!!r.capture:!!r,i):No(t,e,n,!1,r,i)}function No(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xi(i)?!!i.capture:!!i;if(s&&!mo)return null;var a=Uo(t);if(a||(t[Ao]=a=new Io(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Mo,e=mo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Do(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Do(t,e[o],n,r,i);return null}return n=qo(n),t&&t[Oo]?t.wa(e,n,xi(r)?!!r.capture:!!r,i):No(t,e,n,!0,r,i)}function Ro(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ro(t,e[o],n,r,i);else r=xi(r)?!!r.capture:!!r,n=qo(n),t&&t[Oo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=xo(o=t.a[e],n,r,i))&&(To(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Uo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=xo(e,n,r,i)),(n=-1<t?e[t]:null)&&Po(n))}function Po(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Oo])Co(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uo(e))?(Co(n,t),0==n.b&&(n.src=null,e[Ao]=null)):To(t)}}}function Lo(t){return t in jo?jo[t]:jo[t]="on"+t}function Fo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Po(t),n.call(r,e)}function Mo(t,e){if(t.Y)return!0;if(!mo){if(!e)t:{e=["window","event"];for(var n=Ti,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Fo(t,e=new wo(e,this))}return Fo(t,new wo(e,this))}function Uo(t){return(t=t[Ao])instanceof Io?t:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(t){return"function"==typeof t?t:(t[Vo]||(t[Vo]=function(e){return t.handleEvent(e)}),t[Vo])}function Bo(){Fi.call(this),this.c=new Io(this),this.J=this,this.C=null}function Ho(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bo(e,t);else if(e instanceof bo)e.target=e.target||t;else{var i=e;Xi(e=new bo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=zo(s,r,!0,e)&&i}if(i=zo(s=e.a=t,r,!0,e)&&i,i=zo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=zo(s=e.a=n[o],r,!1,e)&&i}function zo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Co(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Li(Bo,Fi),Bo.prototype[Oo]=!0,(Oi=Bo.prototype).addEventListener=function(t,e,n,r){ko(this,t,e,n,r)},Oi.removeEventListener=function(t,e,n,r){Ro(this,t,e,n,r)},Oi.G=function(){if(Bo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)To(n[r]);delete e.a[t],e.b--}}this.C=null},Oi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Oi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Go=Ti.JSON.stringify;function Ko(){this.b=this.a=null}var Wo,Qo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Jo},function(t){t.reset()});function $o(){var t=ts,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Jo(){this.next=this.b=this.a=null}function Yo(t){Ti.setTimeout(function(){throw t},0)}function Xo(t,e){Wo||function(){var t=Ti.Promise.resolve(void 0);Wo=function(){t.then(es)}}(),Zo||(Wo(),Zo=!0),ts.add(t,e)}Ko.prototype.add=function(t,e){var n=Qo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Jo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Jo.prototype.reset=function(){this.next=this.b=this.a=null};var Zo=!1,ts=new Ko;function es(){for(var t;t=$o();){try{t.a.call(t.b)}catch(n){Yo(n)}var e=Qo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Zo=!1}function ns(t,e){Bo.call(this),this.b=t||1,this.a=e||Ti,this.f=Di(this.Za,this),this.g=Pi()}function rs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function is(t,e,n){if("function"==typeof t)n&&(t=Di(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Di(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ti.setTimeout(t,e||0)}function os(t){t.a=is(function(){t.a=null,t.c&&(t.c=!1,os(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Li(ns,Bo),(Oi=ns.prototype).aa=!1,Oi.M=null,Oi.Za=function(){if(this.aa){var t=Pi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ho(this,"tick"),this.aa&&(rs(this),this.start()))}},Oi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Pi())},Oi.G=function(){ns.X.G.call(this),rs(this),delete this.a};var ss=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:os(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ti.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Fi);function as(t){Fi.call(this),this.b=t,this.a={}}Li(as,Fi);var us=[];function cs(t,e,n,r){Array.isArray(n)||(n&&(us[0]=n.toString()),n=us);for(var i=0;i<n.length;i++){var o=ko(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ls(t){$i(t.a,function(t,e){this.a.hasOwnProperty(e)&&Po(t)},t),t.a={}}function hs(){this.a=!0}function fs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Go(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}as.prototype.G=function(){as.X.G.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hs.prototype.info=function(){};var ds={},ps=null;function gs(){return ps=ps||new Bo}function ms(t){bo.call(this,ds.Fa,t)}function ys(t){var e=gs();Ho(e,new ms(e,t))}function vs(t,e){bo.call(this,ds.STAT_EVENT,t),this.stat=e}function bs(t){var e=gs();Ho(e,new vs(e,t))}function ws(t){bo.call(this,ds.Ga,t)}function _s(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ti.setTimeout(function(){t()},e)}ds.Fa="serverreachability",Li(ms,bo),ds.STAT_EVENT="statevent",Li(vs,bo),ds.Ga="timingevent",Li(ws,bo);var Os={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Es={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ss(){}function Ts(){}Ss.prototype.a=null;var Is,Cs={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function xs(){bo.call(this,"d")}function As(){bo.call(this,"c")}function js(){}function ks(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new as(this),this.P=Ns,this.R=new ns(t=oo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Li(xs,bo),Li(As,bo),Li(js,Ss),Is=new js;var Ns=45e3,Ds={},Rs={};function Ps(t,e,n){t.H=1,t.i=ra(Ys(e)),t.j=n,t.I=!0,Ls(t,null)}function Ls(t,e){t.u=Pi(),Us(t),t.l=Ys(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ma(n.b,"t",r),t.D=0,t.a=lu(t.g,t.g.C?e:null),0<t.O&&(t.F=new ss(Di(t.Ca,t,t.a),t.O)),cs(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ji(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ys(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ms(t,n);if(i==Rs){4==e&&(t.h=4,bs(14),r=!1),fs(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ds){t.h=4,bs(15),fs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}fs(t.c,t.f,i,null),zs(t,i)}4==e&&0==n.length&&(t.h=1,bs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nu(e),e.F=!0,bs(11))):(fs(t.c,t.f,n,"[Invalid Chunked Response]"),Hs(t),Bs(t))}function Ms(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Rs:(n=Number(e.substring(n,r)),isNaN(n)?Ds:(r+=1)+n>e.length?Rs:(e=e.substr(r,n),t.D=r+n,e))}function Us(t){t.T=Pi()+t.P,Vs(t,t.P)}function Vs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_s(Di(t.Va,t),e)}function qs(t){t.o&&(Ti.clearTimeout(t.o),t.o=null)}function Bs(t){0==t.g.v||t.A||ou(t.g,t)}function Hs(t){qs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,rs(t.R),ls(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function zs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ea(n.b,t)))if(n.I=t.N,!t.C&&Ea(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;iu(n),Wa(n)}eu(n),bs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=_s(Di(n.Sa,n),6e3));if(1>=Oa(n.b)&&n.ea){try{n.ea()}catch(Wy){}n.ea=void 0}}else au(n,11)}else if((t.C||n.a==t)&&iu(n),!Bi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Gi(l,"spdy")||Gi(l,"quic")||Gi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Sa(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,na(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Pi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=cu(u,u.C?u.ga:null,u.fa),d.C){Ta(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(qs(p),Us(p)),u.a=d}else tu(u);0<n.g.length&&Ja(n)}else"stop"!=i[0]&&"close"!=i[0]||au(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?au(n,7):Ka(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ys(4)}catch(Wy){}}function Gs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ci(t)||"string"==typeof t)Ui(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ci(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ci(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ks(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ks)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ws(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qs(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qs(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oi=ks.prototype).setTimeout=function(t){this.P=t},Oi.Xa=function(t){t=t.target;var e=this.F;e&&3==Ba(t)?e.f():this.Ca(t)},Oi.Ca=function(t){try{if(t==this.a)t:{var e=Ba(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!oo&&!this.a.$())){this.A||4!=e||7==n||ys(8==n||0>=r?3:2),qs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,bs(12),Hs(this),Bs(this);break t}fs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,zs(this,u)}this.I?(Fs(this,e,o),oo&&this.b&&3==e&&(cs(this.J,this.R,"tick",this.Wa),this.R.start())):(fs(this.c,this.f,o,null),zs(this,o)),4==e&&Hs(this),this.b&&!this.A&&(4==e?ou(this.g,this):(this.b=!1,Us(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,bs(12)):(this.h=0,bs(13)),Hs(this),Bs(this)}}}catch(c){}},Oi.Wa=function(){if(this.a){var t=Ba(this.a),e=this.a.$();this.D<e.length&&(qs(this),Fs(this,t,e),this.b&&4!=t&&Us(this))}},Oi.cancel=function(){this.A=!0,Hs(this)},Oi.Va=function(){this.o=null;var t=Pi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ys(3),bs(17)),Hs(this),this.h=2,Bs(this)):Vs(this,this.T-t)},(Oi=Ks.prototype).K=function(){Ws(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Oi.L=function(){return Ws(this),this.a.concat()},Oi.get=function(t,e){return Qs(this.b,t)?this.b[t]:e},Oi.set=function(t,e){Qs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Oi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $s=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Js(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Js){this.a=void 0!==e?e:t.a,Xs(this,t.f),this.j=t.j,Zs(this,t.c),ta(this,t.h),this.g=t.g,e=t.b;var n=new fa;n.c=e.c,e.a&&(n.a=new Ks(e.a),n.b=e.b),ea(this,n),this.i=t.i}else t&&(n=String(t).match($s))?(this.a=!!e,Xs(this,n[1]||"",!0),this.j=ia(n[2]||""),Zs(this,n[3]||"",!0),ta(this,n[4]),this.g=ia(n[5]||"",!0),ea(this,n[6]||"",!0),this.i=ia(n[7]||"")):(this.a=!!e,this.b=new fa(null,this.a))}function Ys(t){return new Js(t)}function Xs(t,e,n){t.f=n?ia(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zs(t,e,n){t.c=n?ia(e,!0):e}function ta(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ea(t,e,n){e instanceof fa?(t.b=e,function(t,e){e&&!t.f&&(da(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pa(this,e),ma(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=oa(e,la)),t.b=new fa(e,t.a))}function na(t,e,n){t.b.set(e,n)}function ra(t){return na(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pi()).toString(36)),t}function ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Js.prototype.toString=function(){var t=[],e=this.f;e&&t.push(oa(e,aa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(oa(e,aa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(oa(n,"/"==n.charAt(0)?ca:ua,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",oa(n,ha)),t.join("")};var aa=/[#\/\?@]/g,ua=/[#\?:]/g,ca=/[#\?]/g,la=/[#\?@]/g,ha=/#/g;function fa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function da(t){t.a||(t.a=new Ks,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pa(t,e){da(t),e=ya(t,e),Qs(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qs((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ws(t)))}function ga(t,e){return da(t),e=ya(t,e),Qs(t.a.b,e)}function ma(t,e,n){pa(t,e),0<n.length&&(t.c=null,t.a.set(ya(t,e),qi(n)),t.b+=n.length)}function ya(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Oi=fa.prototype).add=function(t,e){da(this),this.c=null,t=ya(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Oi.forEach=function(t,e){da(this),this.a.forEach(function(n,r){Ui(n,function(n){t.call(e,n,r,this)},this)},this)},Oi.L=function(){da(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oi.K=function(t){da(this);var e=[];if("string"==typeof t)ga(this,t)&&(e=Vi(e,this.a.get(ya(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Vi(e,t[n])}return e},Oi.set=function(t,e){return da(this),this.c=null,ga(this,t=ya(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Oi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Oi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var va=function(){return function(t,e){this.b=t,this.a=e}}();function ba(t){this.g=t||wa,t=Ti.PerformanceNavigationTiming?0<(t=Ti.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ti.ia&&Ti.ia.ya&&Ti.ia.ya()&&Ti.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wa=10;function _a(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Oa(t){return t.b?1:t.a?t.a.size:0}function Ea(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Sa(t,e){t.a?t.a.add(e):t.b=e}function Ta(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ia(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_i(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qi(t.c)}function Ca(){}function xa(){this.a=new Ca}function Aa(t,e,n){var r=n||"";try{Gs(t,function(t,n){var i=t;xi(t)&&(i=Go(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(xv){throw e.push(r+"type="+encodeURIComponent("_badmap")),xv}}function ja(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ba.prototype.cancel=function(){var t,e;if(this.c=Ia(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ca.prototype.stringify=function(t){return Ti.JSON.stringify(t,void 0)},Ca.prototype.parse=function(t){return Ti.JSON.parse(t,void 0)};var ka=Ti.JSON.parse;function Na(t){Bo.call(this),this.headers=new Ks,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Da,this.D=this.F=!1}Li(Na,Bo);var Da="",Ra=/^https?$/i,Pa=["POST","PUT"];function La(t){return"content-type"==t.toLowerCase()}function Fa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ma(t),Va(t)}function Ma(t){t.u||(t.u=!0,Ho(t,"complete"),Ho(t,"error"))}function Ua(t){if(t.b&&void 0!==Si&&(!t.s[1]||4!=Ba(t)||2!=t.W()))if(t.l&&4==Ba(t))is(t.za,0,t);else if(Ho(t,"readystatechange"),4==Ba(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match($s)[1]||null;if(!o&&Ti.self&&Ti.self.location){var s=Ti.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ra.test(o?o.toLowerCase():"")}e=i}if(e)Ho(t,"complete"),Ho(t,"success");else{t.h=6;try{var a=2<Ba(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ma(t)}}finally{Va(t)}}}function Va(t,e){if(t.a){qa(t);var n=t.a,r=t.s[0]?Ii:null;t.a=null,t.s=null,e||Ho(t,"ready");try{n.onreadystatechange=r}catch(xv){}}}function qa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ti.clearTimeout(t.m),t.m=null)}function Ba(t){return t.a?t.a.readyState:0}function Ha(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $i(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):na(t,e,n))}function za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ga(t){this.pa=0,this.g=[],this.c=new hs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=za("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=za("baseRetryDelayMs",5e3,t),this.Ra=za("retryDelaySeedMs",1e4,t),this.Ma=za("forwardChannelMaxRetries",2,t),this.ma=za("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ba(t&&t.concurrentRequestLimit),this.ka=new xa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ka(t){if(Qa(t),3==t.v){var e=t.R++,n=Ys(t.B);na(n,"SID",t.J),na(n,"RID",e),na(n,"TYPE","terminate"),Xa(t,n),(e=new ks(t,t.c,e,void 0)).H=2,e.i=ra(Ys(n)),n=!1,Ti.navigator&&Ti.navigator.sendBeacon&&(n=Ti.navigator.sendBeacon(e.i.toString(),"")),!n&&Ti.Image&&((new Image).src=e.i,n=!0),n||(e.a=lu(e.g,null),e.a.ba(e.i)),e.u=Pi(),Us(e)}uu(t)}function Wa(t){t.a&&(nu(t),t.a.cancel(),t.a=null)}function Qa(t){Wa(t),t.j&&(Ti.clearTimeout(t.j),t.j=null),iu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ti.clearTimeout(t.h),t.h=null)}function $a(t,e){t.g.push(new va(t.Oa++,e)),3==t.v&&Ja(t)}function Ja(t){_a(t.b)||t.h||(t.h=!0,Xo(t.Ba,t),t.u=0)}function Ya(t,e){var n;n=e?e.f:t.R++;var r=Ys(t.B);na(r,"SID",t.J),na(r,"RID",n),na(r,"AID",t.P),Xa(t,r),t.i&&t.l&&Ha(r,t.i,t.l),n=new ks(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Za(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Sa(t.b,n),Ps(n,r,e)}function Xa(t,e){t.f&&Gs({},function(t,n){na(e,n,t)})}function Za(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Di(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Aa(l,s,"req"+c+"_")}catch(Bu){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function tu(t){t.a||t.j||(t.T=1,Xo(t.Aa,t),t.o=0)}function eu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=_s(Di(t.Aa,t),su(t,t.o)),t.o++,0))}function nu(t){null!=t.s&&(Ti.clearTimeout(t.s),t.s=null)}function ru(t){t.a=new ks(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ys(t.la);na(e,"RID","rpc"),na(e,"SID",t.J),na(e,"CI",t.H?"0":"1"),na(e,"AID",t.P),Xa(t,e),na(e,"TYPE","xmlhttp"),t.i&&t.l&&Ha(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ra(Ys(e)),n.j=null,n.I=!0,Ls(n,t)}function iu(t){null!=t.m&&(Ti.clearTimeout(t.m),t.m=null)}function ou(t,e){var n=null;if(t.a==e){iu(t),nu(t),t.a=null;var r=2}else{if(!Ea(t.b,e))return;n=e.s,Ta(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Pi()-e.u;var i=t.u;Ho(r=gs(),new ws(r,n,e,i)),Ja(t)}else tu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Oa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=_s(Di(t.Ba,t,e),su(t,t.u)),t.u++,0)))}(t,e)||2==r&&eu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:au(t,5);break;case 4:au(t,10);break;case 3:au(t,6);break;default:au(t,2)}}function su(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function au(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Di(t.Ya,t);n||(n=new Js("//www.google.com/images/cleardot.gif"),Ti.location&&"http"==Ti.location.protocol||Xs(n,"https"),ra(n)),function(t,e){var n=new hs;if(Ti.Image){var r=new Image;r.onload=Ri(ja,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ri(ja,n,r,"TestLoadImage: error",!1,e),r.onabort=Ri(ja,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ri(ja,n,r,"TestLoadImage: timeout",!1,e),Ti.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bs(2);t.v=0,t.f&&t.f.ra(e),uu(t),Qa(t)}function uu(t){t.v=0,t.I=-1,t.f&&(0==Ia(t.b).length&&0==t.g.length||(t.b.c.length=0,qi(t.g),t.g.length=0),t.f.qa())}function cu(t,e,n){var r=function(t){return t instanceof Js?Ys(t):new Js(t,void 0)}(n);if(""!=r.c)e&&Zs(r,e+"."+r.c),ta(r,r.h);else{var i=Ti.location;r=function(t,e,n,r){var i=new Js(null,void 0);return t&&Xs(i,t),e&&Zs(i,e),n&&ta(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$i(t.V,function(t,e){na(r,e,t)}),n=t.na,(e=t.A)&&n&&na(r,e,n),na(r,"VER",t.ha),Xa(t,r),r}function lu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Na(t.Na)).F=t.C,e}function hu(){}function fu(){if(ro&&!(10<=Number(go)))throw Error("Environmental error: no available transport.")}function du(t,e){Bo.call(this),this.a=new Ga(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new mu(this)}function pu(t){xs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function gu(){As.call(this),this.status=1}function mu(t){this.a=t}(Oi=Na.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Is),this.a.onreadystatechange=Di(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Fa(this,o)}t=n||"";var i=new Ks(this.headers);r&&Gs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=La,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ti.FormData&&t instanceof Ti.FormData,!(0<=Mi(Pa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qa(this),0<this.o&&((this.D=function(t){return ro&&po(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Di(this.xa,this)):this.m=is(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Fa(this,o)}},Oi.xa=function(){void 0!==Si&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ho(this,"timeout"),this.abort(8))},Oi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ho(this,"complete"),Ho(this,"abort"),Va(this))},Oi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Va(this,!0)),Na.X.G.call(this)},Oi.za=function(){this.j||(this.A||this.l||this.g?Ua(this):this.Ua())},Oi.Ua=function(){Ua(this)},Oi.W=function(){try{return 2<Ba(this)?this.a.status:-1}catch(eo){return-1}},Oi.$=function(){try{return this.a?this.a.responseText:""}catch(eo){return""}},Oi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ka(e)}},Oi.ua=function(){return this.h},Oi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Oi=Ga.prototype).ha=8,Oi.v=1,Oi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ks(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Xi(r=Ji(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Za(this,n,e),na(i=Ys(this.B),"RID",t),na(i,"CVER",22),this.A&&na(i,"X-HTTP-Session-Id",this.A),Xa(this,i),this.i&&r&&Ha(i,this.i,r),Sa(this.b,n),this.Ia&&na(i,"TYPE","init"),this.da?(na(i,"$req",e),na(i,"SID","null"),n.U=!0,Ps(n,i,null)):Ps(n,i,e),this.v=2}}else 3==this.v&&(t?Ya(this,t):0==this.g.length||_a(this.b)||Ya(this))},Oi.Aa=function(){if(this.j=null,ru(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=_s(Di(this.Ta,this),t)}},Oi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,bs(10),Wa(this),ru(this))},Oi.Sa=function(){null!=this.m&&(this.m=null,Wa(this),eu(this),bs(19))},Oi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),bs(2)):(this.c.info("Failed to ping google.com"),bs(1))},(Oi=hu.prototype).ta=function(){},Oi.sa=function(){},Oi.ra=function(){},Oi.qa=function(){},Oi.Ja=function(){},fu.prototype.a=function(t,e){return new du(t,e)},Li(du,Bo),du.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;bs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=cu(t,null,t.fa),Ja(t)},du.prototype.close=function(){Ka(this.a)},du.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$a(this.a,e)}else this.l?((e={}).__data__=Go(t),$a(this.a,e)):$a(this.a,t)},du.prototype.G=function(){this.a.f=null,delete this.f,Ka(this.a),delete this.a,du.X.G.call(this)},Li(pu,xs),Li(gu,As),Li(mu,hu),mu.prototype.ta=function(){Ho(this.a,"a")},mu.prototype.sa=function(t){Ho(this.a,new pu(t))},mu.prototype.ra=function(t){Ho(this.a,new gu(t))},mu.prototype.qa=function(){Ho(this.a,"b")},fu.prototype.createWebChannel=fu.prototype.a,du.prototype.send=du.prototype.h,du.prototype.open=du.prototype.g,du.prototype.close=du.prototype.close,Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Es.COMPLETE="complete",Ts.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",Bo.prototype.listen=Bo.prototype.va,Na.prototype.listenOnce=Na.prototype.wa,Na.prototype.getLastError=Na.prototype.Qa,Na.prototype.getLastErrorCode=Na.prototype.ua,Na.prototype.getStatus=Na.prototype.W,Na.prototype.getResponseJson=Na.prototype.Pa,Na.prototype.getResponseText=Na.prototype.$,Na.prototype.send=Na.prototype.ba;var yu=Os,vu=Es,bu=ds,wu=Ts,_u=Na,Ou=n("mrSG"),Eu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Eu.o=-1;var Su={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ou.c)(e,t),e}(Error),Iu=new bi.b("@firebase/firestore");function Cu(){return Iu.logLevel}function xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Iu.logLevel<=bi.a.DEBUG){var r=e.map(ku);Iu.debug.apply(Iu,Object(Ou.f)(["Firestore (8.4.0): "+t],r))}}function Au(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Iu.logLevel<=bi.a.ERROR){var r=e.map(ku);Iu.error.apply(Iu,Object(Ou.f)(["Firestore (8.4.0): "+t],r))}}function ju(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Iu.logLevel<=bi.a.WARN){var r=e.map(ku);Iu.warn.apply(Iu,Object(Ou.f)(["Firestore (8.4.0): "+t],r))}}function ku(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(xv){return t}}function Nu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw Au(e),new Error(e)}function Du(t,e){t||Nu()}function Ru(t,e){return t}function Pu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Fu(t,e){return t<e?-1:t>e?1:0}function Mu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Uu(t){return t+"\0"}var Vu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Tu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Fu(this.nanoseconds,t.nanoseconds):Fu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),qu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Bu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gu=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Nu(),void 0===n?n=t.length-e:n>t.length-e&&Nu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Tu(Su.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Gu),Wu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Wu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Tu(Su.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Tu(Su.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tu(Su.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Tu(Su.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Gu),$u=function(){function t(t){this.fields=t,t.sort(Qu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Mu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ju=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Fu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ju.EMPTY_BYTE_STRING=new Ju("");var Yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xu(t){if(Du(!!t),"string"==typeof t){var e=0,n=Yu.exec(t);if(Du(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zu(t.seconds),nanos:Zu(t.nanos)}}function Zu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tc(t){return"string"==typeof t?Ju.fromBase64String(t):Ju.fromUint8Array(t)}function ec(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nc(t){var e=t.mapValue.fields.__previous_value__;return ec(e)?nc(e):e}function rc(t){var e=Xu(t.mapValue.fields.__local_write_time__.timestampValue);return new Vu(e.seconds,e.nanos)}function ic(t){return null==t}function oc(t){return 0===t&&1/t==-1/0}function sc(t){return"number"==typeof t&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ac=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ku.fromString(e))},t.fromName=function(e){return new t(Ku.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ku.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ku.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ku(e.slice()))},t}();function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ec(t)?4:10:Nu()}function cc(t,e){var n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Xu(t.timestampValue),r=Xu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tc(t.bytesValue).isEqual(tc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zu(t.geoPointValue.latitude)===Zu(e.geoPointValue.latitude)&&Zu(t.geoPointValue.longitude)===Zu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zu(t.integerValue)===Zu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zu(t.doubleValue),r=Zu(e.doubleValue);return n===r?oc(n)===oc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],cc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Bu(n)!==Bu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cc(n[i],r[i])))return!1;return!0}(t,e);default:return Nu()}}function lc(t,e){return void 0!==(t.values||[]).find(function(t){return cc(t,e)})}function hc(t,e){var n=uc(t),r=uc(e);if(n!==r)return Fu(n,r);switch(n){case 0:return 0;case 1:return Fu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zu(t.integerValue||t.doubleValue),r=Zu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fc(t.timestampValue,e.timestampValue);case 4:return fc(rc(t),rc(e));case 5:return Fu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tc(t),r=tc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Fu(n[i],r[i]);if(0!==o)return o}return Fu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fu(Zu(t.latitude),Zu(e.latitude));return 0!==n?n:Fu(Zu(t.longitude),Zu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hc(n[i],r[i]);if(o)return o}return Fu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Fu(r[s],o[s]);if(0!==a)return a;var u=hc(n[r[s]],i[o[s]]);if(0!==u)return u}return Fu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Nu()}}function fc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fu(t,e);var n=Xu(t),r=Xu(e),i=Fu(n.seconds,r.seconds);return 0!==i?i:Fu(n.nanos,r.nanos)}function dc(t){return pc(t)}function pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Xu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tc(t.bytesValue).toBase64():"referenceValue"in t?ac.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=pc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+pc(t.fields[o])}return e+"}"}(t.mapValue):Nu();var e}function gc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mc(t){return!!t&&"integerValue"in t}function yc(t){return!!t&&"arrayValue"in t}function vc(t){return!!t&&"nullValue"in t}function bc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}var _c=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Qu.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return cc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===uc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=wc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Qu.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!wc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Oc(t){var e=[];return Hu(t.fields||{},function(t,n){var r=new Qu([t]);if(wc(n)){var i=Oc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new $u(e)}var Ec=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,qu.min(),_c.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,_c.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,_c.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=_c.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=_c.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Sc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Tc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sc(t,e,n,r,i,o,s)}function Ic(t){var e=Ru(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+dc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Uc(e.startAt)),e.endAt&&(n+="|ub:",n+=Uc(e.endAt)),e.h=n}return e.h}function Cc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!cc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hc(t.startAt,e.startAt)&&Hc(t.endAt,e.endAt)}function xc(t){return ac.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ac=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ou.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new jc(t,n,r):"array-contains"===n?new Rc(t,r):"in"===n?new Pc(t,r):"not-in"===n?new Lc(t,r):"array-contains-any"===n?new Fc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new kc(t,n):new Nc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(hc(e,this.value)):null!==e&&uc(this.value)===uc(e)&&this.m(hc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Nu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),jc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ac.fromName(r.referenceValue),i}return Object(Ou.c)(e,t),e.prototype.matches=function(t){var e=ac.comparator(t.key,this.key);return this.m(e)},e}(Ac),kc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dc(0,n),r}return Object(Ou.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ac),Nc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dc(0,n),r}return Object(Ou.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ac);function Dc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ac.fromName(t.referenceValue)})}var Rc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ou.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yc(e)&&lc(e.arrayValue,this.value)},e}(Ac),Pc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ou.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&lc(this.value.arrayValue,e)},e}(Ac),Lc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ou.c)(e,t),e.prototype.matches=function(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!lc(this.value.arrayValue,e)},e}(Ac),Fc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ou.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return lc(e.value.arrayValue,t)})},e}(Ac),Mc=function(t,e){this.position=t,this.before=e};function Uc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return dc(t)}).join(",")}var Vc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ac.comparator(ac.fromName(s.referenceValue),n.key):hc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Hc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cc(t.position[n],e.position[n]))return!1;return!0}var zc=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Gc(t,e,n,r,i,o,s,a){return new zc(t,e,n,r,i,o,s,a)}function Kc(t){return new zc(t)}function Wc(t){return!ic(t.limit)&&"F"===t.limitType}function Qc(t){return!ic(t.limit)&&"L"===t.limitType}function $c(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Yc(t){return null!==t.collectionGroup}function Xc(t){var e=Ru(t);if(null===e.p){e.p=[];var n=Jc(e),r=$c(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Vc(n)),e.p.push(new Vc(Qu.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Vc(Qu.keyField(),u))}}}return e.p}function Zc(t){var e=Ru(t);if(!e.T)if("F"===e.limitType)e.T=Tc(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Xc(e);r<i.length;r++){var o=i[r];n.push(new Vc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Mc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Mc(e.startAt.position,!e.startAt.before):null;e.T=Tc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function tl(t,e,n){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function el(t,e){return Cc(Zc(t),Zc(e))&&t.limitType===e.limitType}function nl(t){return Ic(Zc(t))+"|lt:"+t.limitType}function rl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+dc(e.value);var e}).join(", ")+"]"),ic(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Uc(t.startAt)),t.endAt&&(e+=", endAt: "+Uc(t.endAt)),"Target("+e+")"}(Zc(t))+"; limitType="+t.limitType+")"}function il(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ac.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bc(t.startAt,Xc(t),e)||t.endAt&&Bc(t.endAt,Xc(t),e))}(t,e)}function ol(t){return function(e,n){for(var r=!1,i=0,o=Xc(t);i<o.length;i++){var s=o[i],a=sl(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function sl(t,e,n){var r=t.field.isKeyField()?ac.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?hc(r,i):Nu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nu()}}function al(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function ul(t){return{integerValue:""+t}}function cl(t,e){return sc(e)?ul(e):al(t,e)}var ll=function(){this._=void 0};function hl(t,e,n){return t instanceof pl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof gl?ml(t,e):t instanceof yl?vl(t,e):function(t,e){var n=dl(t,e),r=wl(n)+wl(t.A);return mc(n)&&mc(t.A)?ul(r):al(t.R,r)}(t,e)}function fl(t,e,n){return t instanceof gl?ml(t,e):t instanceof yl?vl(t,e):n}function dl(t,e){return t instanceof bl?mc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e}(ll),gl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ou.c)(e,t),e}(ll);function ml(t,e){for(var n=_l(e),r=function(t){n.some(function(e){return cc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ou.c)(e,t),e}(ll);function vl(t,e){for(var n=_l(e),r=function(t){n=n.filter(function(e){return!cc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ou.c)(e,t),e}(ll);function wl(t){return Zu(t.integerValue||t.doubleValue)}function _l(t){return yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ol=function(t,e){this.field=t,this.transform=e},El=function(t,e){this.version=t,this.transformResults=e},Sl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Tl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Il=function(){};function Cl(t,e,n){t instanceof Nl?function(t,e,n){var r=t.value.clone(),i=Pl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Dl?function(t,e,n){if(Tl(t.precondition,e)){var r=Pl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Rl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n){t instanceof Nl?function(t,e,n){if(Tl(t.precondition,e)){var r=t.value.clone(),i=Ll(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(kl(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Dl?function(t,e,n){if(Tl(t.precondition,e)){var r=Ll(t.fieldTransforms,n,e),i=e.data;i.setAll(Rl(t)),i.setAll(r),e.convertToFoundDocument(kl(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Tl(t.precondition,e)&&e.convertToNoDocument(qu.min())}(t,e)}function Al(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=dl(o.transform,s||null);null!=a&&(null==n&&(n=_c.empty()),n.set(o.field,a))}return n||null}function jl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Mu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof gl&&e instanceof gl||t instanceof yl&&e instanceof yl?Mu(t.elements,e.elements,cc):t instanceof bl&&e instanceof bl?cc(t.A,e.A):t instanceof pl&&e instanceof pl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function kl(t){return t.isFoundDocument()?t.version:qu.min()}var Nl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ou.c)(e,t),e}(Il),Dl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ou.c)(e,t),e}(Il);function Rl(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Pl(t,e,n){var r=new Map;Du(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fl(s,a,n[i]))}return r}function Ll(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,hl(a,u,e))}return r}var Fl,Ml,Ul=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ou.c)(e,t),e}(Il),Vl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ou.c)(e,t),e}(Il),ql=function(t){this.count=t};function Bl(t){switch(t){case Su.OK:return Nu();case Su.CANCELLED:case Su.UNKNOWN:case Su.DEADLINE_EXCEEDED:case Su.RESOURCE_EXHAUSTED:case Su.INTERNAL:case Su.UNAVAILABLE:case Su.UNAUTHENTICATED:return!1;case Su.INVALID_ARGUMENT:case Su.NOT_FOUND:case Su.ALREADY_EXISTS:case Su.PERMISSION_DENIED:case Su.FAILED_PRECONDITION:case Su.ABORTED:case Su.OUT_OF_RANGE:case Su.UNIMPLEMENTED:case Su.DATA_LOSS:return!0;default:return Nu()}}function Hl(t){if(void 0===t)return Au("GRPC error has no .code"),Su.UNKNOWN;switch(t){case Fl.OK:return Su.OK;case Fl.CANCELLED:return Su.CANCELLED;case Fl.UNKNOWN:return Su.UNKNOWN;case Fl.DEADLINE_EXCEEDED:return Su.DEADLINE_EXCEEDED;case Fl.RESOURCE_EXHAUSTED:return Su.RESOURCE_EXHAUSTED;case Fl.INTERNAL:return Su.INTERNAL;case Fl.UNAVAILABLE:return Su.UNAVAILABLE;case Fl.UNAUTHENTICATED:return Su.UNAUTHENTICATED;case Fl.INVALID_ARGUMENT:return Su.INVALID_ARGUMENT;case Fl.NOT_FOUND:return Su.NOT_FOUND;case Fl.ALREADY_EXISTS:return Su.ALREADY_EXISTS;case Fl.PERMISSION_DENIED:return Su.PERMISSION_DENIED;case Fl.FAILED_PRECONDITION:return Su.FAILED_PRECONDITION;case Fl.ABORTED:return Su.ABORTED;case Fl.OUT_OF_RANGE:return Su.OUT_OF_RANGE;case Fl.UNIMPLEMENTED:return Su.UNIMPLEMENTED;case Fl.DATA_LOSS:return Su.DATA_LOSS;default:return Nu()}}(Ml=Fl||(Fl={}))[Ml.OK=0]="OK",Ml[Ml.CANCELLED=1]="CANCELLED",Ml[Ml.UNKNOWN=2]="UNKNOWN",Ml[Ml.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ml[Ml.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ml[Ml.NOT_FOUND=5]="NOT_FOUND",Ml[Ml.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ml[Ml.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ml[Ml.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ml[Ml.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ml[Ml.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ml[Ml.ABORTED=10]="ABORTED",Ml[Ml.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ml[Ml.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ml[Ml.INTERNAL=13]="INTERNAL",Ml[Ml.UNAVAILABLE=14]="UNAVAILABLE",Ml[Ml.DATA_LOSS=15]="DATA_LOSS";var zl=function(){function t(t,e){this.comparator=t,this.root=e||Kl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Gl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Gl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Gl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Gl(this.root,t,this.comparator,!0)},t}(),Gl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Kl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nu();if(this.right.isRed())throw Nu();var t=this.left.check();if(t!==this.right.check())throw Nu();return t+(this.isRed()?0:1)},t}();Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Nu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Nu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Nu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Nu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Nu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Kl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Wl=function(){function t(t){this.comparator=t,this.data=new zl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ql(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ql(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ql=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$l=new zl(ac.comparator);function Jl(){return $l}var Yl=new zl(ac.comparator);function Xl(){return Yl}var Zl=new zl(ac.comparator);function th(){return Zl}var eh=new Wl(ac.comparator);function nh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=eh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var rh=new Wl(Fu);function ih(){return rh}var oh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(qu.min(),r,ih(),Jl(),nh())},t}(),sh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ju.EMPTY_BYTE_STRING,n,nh(),nh(),nh())},t}(),ah=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},uh=function(t,e){this.targetId=t,this.V=e},ch=function(t,e,n,r){void 0===n&&(n=Ju.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lh=function(){function t(){this.S=0,this.D=dh(),this.C=Ju.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=nh(),e=nh(),n=nh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Nu()}}),new sh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=dh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),hh=function(){function t(t){this.W=t,this.G=new Map,this.H=Jl(),this.J=fh(),this.Y=new Wl(Fu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Nu()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(xc(i))if(0===n){var o=new ac(i.path);this.tt(e,o,Ec.newNoDocument(o,qu.min()))}else Du(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&xc(o.target)){var s=new ac(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Ec.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=nh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new oh(t,n,this.Y,this.H,r);return this.H=Jl(),this.J=fh(),this.Y=new Wl(Fu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new lh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Wl(Fu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||xu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new lh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function fh(){return new zl(ac.comparator)}function dh(){return new zl(ac.comparator)}var ph={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mh=function(t,e){this.databaseId=t,this.I=e};function yh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vh(t,e){return t.I?e.toBase64():e.toUint8Array()}function bh(t,e){return yh(t,e.toTimestamp())}function wh(t){return Du(!!t),qu.fromTimestamp(function(t){var e=Xu(t);return new Vu(e.seconds,e.nanos)}(t))}function _h(t,e){return function(t){return new Ku(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Oh(t){var e=Ku.fromString(t);return Du(Kh(e)),e}function Eh(t,e){return _h(t.databaseId,e.path)}function Sh(t,e){var n=Oh(e);if(n.get(1)!==t.databaseId.projectId)throw new Tu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Tu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ac(xh(n))}function Th(t,e){return _h(t.databaseId,e)}function Ih(t){var e=Oh(t);return 4===e.length?Ku.emptyPath():xh(e)}function Ch(t){return new Ku(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xh(t){return Du(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ah(t,e,n){return{name:Eh(t,e),fields:n.toProto().mapValue.fields}}function jh(t,e,n){var r=Sh(t,e.name),i=wh(e.updateTime),o=new _c({mapValue:{fields:e.fields}}),s=Ec.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function kh(t,e){var n;if(e instanceof Nl)n={update:Ah(t,e.key,e.value)};else if(e instanceof Ul)n={delete:Eh(t,e.key)};else if(e instanceof Dl)n={update:Ah(t,e.key,e.data),updateMask:Gh(e.fieldMask)};else{if(!(e instanceof Vl))return Nu();n={verify:Eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof pl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Nu()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:bh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Nu()}(t,e.precondition)),n}function Nh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Sl.updateTime(wh(t.updateTime)):void 0!==t.exists?Sl.exists(t.exists):Sl.none()}(e.currentDocument):Sl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Du("REQUEST_TIME"===e.setToServerValue),n=new pl):"appendMissingElements"in e?n=new gl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yl(e.removeAllFromArray.values||[]):"increment"in e?n=new bl(t,e.increment):Nu();var r=Qu.fromServerFormat(e.fieldPath);return new Ol(r,n)}(t,e)}):[];if(e.update){var i=Sh(t,e.update.name),o=new _c({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new $u((t.fieldPaths||[]).map(function(t){return Qu.fromServerFormat(t)}))}(e.updateMask);return new Dl(i,o,s,n,r)}return new Nl(i,o,n,r)}if(e.delete){var a=Sh(t,e.delete);return new Ul(a,n)}if(e.verify){var u=Sh(t,e.verify);return new Vl(u,n)}return Nu()}function Dh(t,e){return{documents:[Th(t,e.path)]}}function Rh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Th(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Th(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(bc(t.value))return{unaryFilter:{field:qh(t.field),op:"IS_NAN"}};if(vc(t.value))return{unaryFilter:{field:qh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bc(t.value))return{unaryFilter:{field:qh(t.field),op:"IS_NOT_NAN"}};if(vc(t.value))return{unaryFilter:{field:qh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(t.field),op:Vh(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:qh(t.field),direction:Uh(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ic(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Fh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fh(e.endAt)),n}function Ph(t){var e=Ih(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Du(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Lh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Vc(Bh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ic(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Mh(n.startAt));var l=null;return n.endAt&&(l=Mh(n.endAt)),Gc(e,i,a,s,u,"F",c,l)}function Lh(t){return t?void 0!==t.unaryFilter?[zh(t)]:void 0!==t.fieldFilter?[Hh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Lh(t)}).reduce(function(t,e){return t.concat(e)}):Nu():[]}function Fh(t){return{before:t.before,values:t.position}}function Mh(t){return new Mc(t.values||[],!!t.before)}function Uh(t){return ph[t]}function Vh(t){return gh[t]}function qh(t){return{fieldPath:t.canonicalString()}}function Bh(t){return Qu.fromServerFormat(t.fieldPath)}function Hh(t){return Ac.create(Bh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Nu()}}(t.fieldFilter.op),t.fieldFilter.value)}function zh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Bh(t.unaryFilter.field);return Ac.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Bh(t.unaryFilter.field);return Ac.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bh(t.unaryFilter.field);return Ac.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bh(t.unaryFilter.field);return Ac.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Nu()}}function Gh(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Kh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Wh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=$h(e)),e=Qh(t.get(n),e);return $h(e)}function Qh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $h(t){return t+"\x01\x01"}function Jh(t){var e=t.length;if(Du(e>=2),2===e)return Du("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ku.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Nu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Nu()}o=s+2}return new Ku(r)}var Yh=function(t,e){this.seconds=t,this.nanoseconds=e},Xh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xh.store="owner",Xh.key="owner";var Zh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zh.store="mutationQueues",Zh.keyPath="userId";var tf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};tf.store="mutations",tf.keyPath="batchId",tf.userMutationsIndex="userMutationsIndex",tf.userMutationsKeyPath=["userId","batchId"];var ef=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wh(e)]},t.key=function(t,e,n){return[t,Wh(e),n]},t}();ef.store="documentMutations",ef.PLACEHOLDER=new ef;var nf=function(t,e){this.path=t,this.readTime=e},rf=function(t,e){this.path=t,this.version=e},of=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};of.store="remoteDocuments",of.readTimeIndex="readTimeIndex",of.readTimeIndexPath="readTime",of.collectionReadTimeIndex="collectionReadTimeIndex",of.collectionReadTimeIndexPath=["parentPath","readTime"];var sf=function(t){this.byteSize=t};sf.store="remoteDocumentGlobal",sf.key="remoteDocumentGlobalKey";var af=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};af.store="targets",af.keyPath="targetId",af.queryTargetsIndexName="queryTargetsIndex",af.queryTargetsKeyPath=["canonicalId","targetId"];var uf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};uf.store="targetDocuments",uf.keyPath=["targetId","path"],uf.documentTargetsIndex="documentTargetsIndex",uf.documentTargetsKeyPath=["path","targetId"];var cf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cf.key="targetGlobalKey",cf.store="targetGlobal";var lf=function(t,e){this.collectionId=t,this.parent=e};lf.store="collectionParents",lf.keyPath=["collectionId","parent"];var hf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hf.store="clientMetadata",hf.keyPath="clientId";var ff=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ff.store="bundles",ff.keyPath="bundleId";var df=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};df.store="namedQueries",df.keyPath="name";var pf=Object(Ou.f)(Object(Ou.f)([],Object(Ou.f)(Object(Ou.f)([],Object(Ou.f)(Object(Ou.f)([],Object(Ou.f)(Object(Ou.f)([],[Zh.store,tf.store,ef.store,of.store,af.store,Xh.store,cf.store,uf.store]),[hf.store])),[sf.store])),[lf.store])),[ff.store,df.store]),gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),yf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},vf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Nu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),bf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new yf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Of(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Cf(e.target.error);n.ft.reject(new Of(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Of(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(xu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sf(e)},t}(),wf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(vi.h)())&&Au("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return xu("SimpleDb","Removing database:",t),Tf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(vi.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(xu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Tu(Su.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Of(t,n))},i.onupgradeneeded=function(t){xu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){xu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ou.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ou.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=bf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),vf.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return xu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_f=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Tf(this.Pt.delete())},t}(),Of=function(t){function e(e,n){var r=this;return(r=t.call(this,Su.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ou.c)(e,t),e}(Tu);function Ef(t){return"IndexedDbTransactionError"===t.name}var Sf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(xu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(xu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tf(n)},t.prototype.add=function(t){return xu("SimpleDb","ADD",this.store.name,t,t),Tf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),xu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return xu("SimpleDb","DELETE",this.store.name,t),Tf(this.store.delete(t))},t.prototype.count=function(){return xu("SimpleDb","COUNT",this.store.name),Tf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){xu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new vf(function(n,r){e.onerror=function(t){var e=Cf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new vf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _f(i),s=e(i.primaryKey,i.value,o);if(s instanceof vf){var a=s.catch(function(t){return o.done(),vf.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return vf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tf(t){return new vf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cf(t.target.error);n(e)}})}var If=!1;function Cf(t){var e=wf._t(Object(vi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Tu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return If||(If=!0,setTimeout(function(){throw r},0)),r}}return t}var xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ou.c)(e,t),e}(mf);function Af(t,e){var n=Ru(t);return wf.It(n.Mt,e)}var jf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Cl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&xl(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&xl(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(qu.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},nh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mu(this.mutations,t.mutations,function(t,e){return jl(t,e)})&&Mu(this.baseMutations,t.baseMutations,function(t,e){return jl(t,e)})},t}(),kf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Du(e.mutations.length===r.length);for(var i=th(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Nf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=qu.min()),void 0===o&&(o=qu.min()),void 0===s&&(s=Ju.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Df=function(t){this.Lt=t};function Rf(t,e){if(e.document)return jh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ac.fromSegments(e.noDocument.path),r=Uf(e.noDocument.readTime),i=Ec.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ac.fromSegments(e.unknownDocument.path);return r=Uf(e.unknownDocument.version),Ec.newUnknownDocument(o,r)}return Nu()}function Pf(t,e,n){var r=Lf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Eh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:yh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new of(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Mf(e.version);return s=e.hasCommittedMutations,new of(null,new nf(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Mf(e.version);return new of(new rf(c,l),null,null,!0,r,i)}return Nu()}function Lf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ff(t){var e=new Vu(t[0],t[1]);return qu.fromTimestamp(e)}function Mf(t){var e=t.toTimestamp();return new Yh(e.seconds,e.nanoseconds)}function Uf(t){var e=new Vu(t.seconds,t.nanoseconds);return qu.fromTimestamp(e)}function Vf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Nh(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Nh(t.Lt,e)}),o=Vu.fromMillis(e.localWriteTimeMs);return new jf(e.batchId,o,n,i)}function qf(t){var e,n,r=Uf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Uf(t.lastLimboFreeSnapshotVersion):qu.min();return void 0!==t.query.documents?(Du(1===(n=t.query).documents.length),e=Zc(Kc(Ih(n.documents[0])))):e=function(t){return Zc(Ph(t))}(t.query),new Nf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ju.fromBase64String(t.resumeToken))}function Bf(t,e){var n,r=Mf(e.snapshotVersion),i=Mf(e.lastLimboFreeSnapshotVersion);n=xc(e.target)?Dh(t.Lt,e.target):Rh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new af(e.targetId,Ic(e.target),r,o,e.sequenceNumber,i,n)}function Hf(t){var e=Ph({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?tl(e,e.limit,"L"):e}var zf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Gf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Uf(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Gf(t).put({bundleId:(n=e).id,createTime:Mf(wh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Kf(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Hf(e.bundledQuery),readTime:Uf(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Kf(t).put(function(t){return{name:t.name,readTime:Mf(wh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Gf(t){return Af(t,ff.store)}function Kf(t){return Af(t,df.store)}var Wf=function(){function t(){this.Bt=new Qf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vf.resolve()},t.prototype.getCollectionParents=function(t,e){return vf.resolve(this.Bt.getEntries(e))},t}(),Qf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Wl(Ku.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Wl(Ku.comparator)).toArray()},t}(),$f=function(){function t(){this.qt=new Qf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Wh(i)};return Jf(t).put(o)}return vf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Uu(e),""],!1,!0);return Jf(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Jh(o.parent))}return n})},t}();function Jf(t){return Af(t,lf.store)}var Yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Zf(t,e,n){var r=t.store(tf.store),i=t.store(ef.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Du(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ef.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return vf.waitFor(o).next(function(){return c})}function td(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nu();e=t.noDocument}return JSON.stringify(e).length}Xf.DEFAULT_COLLECTION_PERCENTILE=10,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xf.DEFAULT=new Xf(41943040,Xf.DEFAULT_COLLECTION_PERCENTILE,Xf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xf.DISABLED=new Xf(-1,0,0);var ed=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Du(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rd(t).Ot({index:tf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=id(t),s=rd(t);return s.add({}).next(function(a){Du("number"==typeof a);for(var u=new jf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return kh(t.Lt,e)}),i=n.mutations.map(function(e){return kh(t.Lt,e)});return new tf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Wl(function(t,e){return Fu(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=ef.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,ef.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),vf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return rd(t).get(e).next(function(t){return t?(Du(t.userId===n.userId),Vf(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?vf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return rd(t).Ot({index:tf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Du(e.batchId>=r),o=Vf(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rd(t).Ot({index:tf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rd(t).Nt(tf.userMutationsIndex,n).next(function(t){return t.map(function(t){return Vf(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ef.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return id(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=Jh(r[1]);if(a===n.userId&&e.path.isEqual(c))return rd(t).get(u).next(function(t){if(!t)throw Nu();Du(t.userId===n.userId),o.push(Vf(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wl(Fu),i=[];return e.forEach(function(e){var o=ef.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=id(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=Jh(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),vf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ef.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Wl(Fu);return id(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=Jh(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(rd(t).get(e).next(function(t){if(null===t)throw Nu();Du(t.userId===n.userId),r.push(Vf(n.R,t))}))}),vf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Zf(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),vf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return vf.resolve();var r=IDBKeyRange.lowerBound(ef.prefixForUser(e.userId)),i=[];return id(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Jh(t[1]);i.push(o)}else r.done()}).next(function(){Du(0===i.length)})})},t.prototype.containsKey=function(t,e){return nd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return od(t).get(this.userId).next(function(t){return t||new Zh(e.userId,-1,"")})},t}();function nd(t,e,n){var r=ef.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return id(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function rd(t){return Af(t,tf.store)}function id(t){return Af(t,ef.store)}function od(t){return Af(t,Zh.store)}var sd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ad=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new sd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return qu.fromTimestamp(new Vu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ud(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Du(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ud(t).Ot(function(s,a){var u=qf(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return vf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return ud(t).Ot(function(t,n){var r=qf(n);e(r)})},t.prototype.Xt=function(t){return cd(t).get(cf.key).next(function(t){return Du(null!==t),t})},t.prototype.Zt=function(t,e){return cd(t).put(cf.key,e)},t.prototype.te=function(t,e){return ud(t).put(Bf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Ic(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ud(t).Ot({range:r,index:af.queryTargetsIndexName},function(t,n,r){var o=qf(n);Cc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ld(t);return e.forEach(function(e){var s=Wh(e.path);i.push(o.put(new uf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),vf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ld(t);return vf.forEach(e,function(e){var o=Wh(e.path);return vf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ld(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ld(t),i=nh();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Jh(t[1]),o=new ac(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Wh(e.path),r=IDBKeyRange.bound([n],[Uu(n)],!1,!0),i=0;return ld(t).Ot({index:uf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return ud(t).get(e).next(function(t){return t?qf(t):null})},t}();function ud(t){return Af(t,af.store)}function cd(t){return Af(t,cf.store)}function ld(t){return Af(t,uf.store)}function hd(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){if(t.code!==Su.FAILED_PRECONDITION||t.message!==gf)throw t;return xu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function fd(t,e){var n=t[1],r=e[1],i=Fu(t[0],e[0]);return 0===i?Fu(n,r):i}var dd=function(){function t(t){this.ne=t,this.buffer=new Wl(fd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;xu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ou.b)(e,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ef(e=n.sent())?(xu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),gd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vf.resolve(Eu.o);var r=new dd(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xu("LruGarbageCollector","Garbage collection skipped; disabled"),vf.resolve(Yf)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(xu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yf):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(xu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Cu()<=bi.a.DEBUG&&xu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),vf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),md=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new gd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return yd(t,n)},t.prototype.removeReference=function(t,e,n){return yd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return od(t).$t(function(r){return nd(t,r,e).next(function(t){return t&&(n=!0),vf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),ld(t).delete([0,Wh(s.path)])})});i.push(u)}}).next(function(){return vf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yd(t,e)},t.prototype.we=function(t,e){var n,r=ld(t),i=Eu.o;return r.Ot({index:uf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Eu.o&&e(new ac(Jh(n)),i),i=s,n=o):i=Eu.o}).next(function(){i!==Eu.o&&e(new ac(Jh(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yd(t,e){return ld(t).put(function(t,e){return new uf(0,Wh(t.path),e)}(e,t.currentSequenceNumber))}var vd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hu(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return zu(this.inner)},t}(),bd=function(){function t(){this.changes=new vd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:qu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ec.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ed(t).put(Sd(e),n)},t.prototype.removeEntry=function(t,e){var n=Ed(t),r=Sd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ed(t).get(Sd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Ed(t).get(Sd(e)).next(function(t){return{document:n.ye(e,t),size:td(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Jl();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Jl(),i=new zl(ac.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,td(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ed(t).Ot({range:r},function(t,e,r){for(var s=ac.fromSegments(t);o&&ac.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Jl(),o=e.path.length+1,s={};if(n.isEqual(qu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Lf(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=of.collectionReadTimeIndex}return Ed(t).Ot(s,function(t,n,s){if(t.length===o){var a=Rf(r.R,n);e.path.isPrefixOf(a.key.path)?il(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new _d(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Od(t).get(sf.key).next(function(t){return Du(!!t),t})},t.prototype.me=function(t,e){return Od(t).put(sf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Rf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(qu.min()))return n}return Ec.newInvalidDocument(t)},t}(),_d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new vd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ou.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Wl(function(t,e){return Fu(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Pf(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=td(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Pf(e.Ie.R,Ec.newNoDocument(o,qu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),vf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(bd);function Od(t){return Af(t,sf.store)}function Ed(t){return Af(t,of.store)}function Sd(t){return t.path.toArray()}var Td=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Du(n<r&&n>=0&&r<=11);var o=new bf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xh.store)}(t),function(t){t.createObjectStore(Zh.store,{keyPath:Zh.keyPath}),t.createObjectStore(tf.store,{keyPath:tf.keyPath,autoIncrement:!0}).createIndex(tf.userMutationsIndex,tf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ef.store)}(t),Id(t),function(t){t.createObjectStore(of.store)}(t));var s=vf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(uf.store),t.deleteObjectStore(af.store),t.deleteObjectStore(cf.store)}(t),Id(t)),s=s.next(function(){return function(t){var e=t.store(cf.store),n=new cf(0,0,qu.min().toTimestamp(),0);return e.put(cf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(tf.store).Nt().next(function(n){t.deleteObjectStore(tf.store),t.createObjectStore(tf.store,{keyPath:tf.keyPath,autoIncrement:!0}).createIndex(tf.userMutationsIndex,tf.userMutationsKeyPath,{unique:!0});var r=e.store(tf.store),i=n.map(function(t){return r.put(t)});return vf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(hf.store,{keyPath:hf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(sf.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(of.store);e.createIndex(of.readTimeIndex,of.readTimeIndexPath,{unique:!1}),e.createIndex(of.collectionReadTimeIndex,of.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ff.store,{keyPath:ff.keyPath})}(t),function(t){t.createObjectStore(df.store,{keyPath:df.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(of.store).Ot(function(t,n){e+=td(n)}).next(function(){var n=new sf(e);return t.store(sf.store).put(sf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Zh.store),r=t.store(tf.store);return n.Nt().next(function(n){return vf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(tf.userMutationsIndex,i).next(function(r){return vf.forEach(r,function(r){Du(r.userId===n.userId);var i=Vf(e.R,r);return Zf(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(uf.store),n=t.store(of.store);return t.store(cf.store).get(cf.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new Ku(n),s=function(t){return[0,Wh(t)]}(o);r.push(e.get(s).next(function(n){return n?vf.resolve():function(n){return e.put(new uf(0,Wh(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return vf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(lf.store,{keyPath:lf.keyPath});var n=e.store(lf.store),r=new Qf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Wh(i)})}};return e.store(of.store).Ot({kt:!0},function(t,e){var n=new Ku(t);return i(n.popLast())}).next(function(){return e.store(ef.store).Ot({kt:!0},function(t,e){var n=Jh(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(af.store);return n.Ot(function(t,r){var i=qf(r),o=Bf(e.R,i);return n.put(o)})},t}();function Id(t){t.createObjectStore(uf.store,{keyPath:uf.keyPath}).createIndex(uf.documentTargetsIndex,uf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(af.store,{keyPath:af.keyPath}).createIndex(af.queryTargetsIndexName,af.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cf.store)}var Cd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xd=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Tu(Su.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new md(this,i),this.Le=n+"main",this.R=new Df(u),this.Be=new wf(this.Le,11,new Td(this.R)),this.qe=new ad(this.referenceDelegate,this.R),this.Ut=new $f,this.Ue=function(t,e){return new wd(t,e)}(this.R,this.Ut),this.Qe=new zf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Au("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Tu(Su.FAILED_PRECONDITION,Cd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Eu(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ou.b)(e,void 0,void 0,function(){return Object(Ou.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ou.b)(e,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ou.b)(e,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return jd(e).put(new hf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ef(e))return xu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return xu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ad(t).get(Xh.key).next(function(t){return vf.resolve(e.tn(t))})},t.prototype.en=function(t){return jd(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Af(t,hf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return vf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vf.resolve(!0):Ad(t).get(Xh.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Tu(Su.FAILED_PRECONDITION,Cd);return!1}}return!(!e.networkEnabled||!e.inForeground)||jd(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&xu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t=this;return Object(Ou.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Xh.store,hf.store],function(e){var n=new xf(e,Eu.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return jd(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return ed.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return xu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",pf,function(o){return r=new xf(o,i.Ne?i.Ne.next():Eu.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Au("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Tu(Su.FAILED_PRECONDITION,gf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ad(t).get(Xh.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Tu(Su.FAILED_PRECONDITION,Cd)})},t.prototype.Ze=function(t){var e=new Xh(this.clientId,this.allowTabSynchronization,Date.now());return Ad(t).put(Xh.key,e)},t.yt=function(){return wf.yt()},t.prototype.Xe=function(t){var e=this,n=Ad(t);return n.get(Xh.key).next(function(t){return e.tn(t)?(xu("IndexedDbPersistence","Releasing primary lease."),n.delete(Xh.key)):vf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Au("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return xu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Au("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Au("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ad(t){return Af(t,Xh.store)}function jd(t){return Af(t,hf.store)}function kd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Nd=function(t,e){this.progress=t,this.wn=e},Dd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ac.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Yc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ac(e)).next(function(t){var e=Xl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Xl();return this.Ut.getCollectionParents(t,i).next(function(s){return vf.forEach(s,function(s){var a=function(t,e){return new zc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ec.newInvalidDocument(c),r=r.insert(c,l)),xl(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){il(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=nh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Dl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Rd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=nh(),i=nh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Pd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(qu.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Wc(e)||Qc(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Cu()<=bi.a.DEBUG&&xu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Wl(ol(t));return e.forEach(function(e,r){il(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Cu()<=bi.a.DEBUG&&xu("QueryEngine","Using full collection scan to execute query:",rl(e)),this.Sn.getDocumentsMatchingQuery(t,e,qu.min())},t}(),Ld=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new zl(Fu),this.kn=new vd(function(t){return Ic(t)},Cc),this.On=qu.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Dd(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Fd(t,e,n,r){return new Ld(t,e,n,r)}function Md(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ou.d)(this,function(s){switch(s.label){case 0:return n=Ru(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Dd(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=nh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Ud(t,e){var n=Ru(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=vf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Du(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Vd(t){var e=Ru(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function qd(t,e){var n=Ru(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Du(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Jl();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Bd(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(qu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return vf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Bd(t,e,n,r,i){var o=nh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Jl();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(qu.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):xu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Hd(t,e){var n=Ru(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function zd(t,e){var n=Ru(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?vf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Nf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Gd(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:r=Ru(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ef(s=a.sent()))throw s;return xu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Kd(t,e,n){var r=Ru(t),i=qu.min(),o=nh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ru(t),i=r.kn.get(n);return void 0!==i?vf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Zc(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:qu.min(),n?o:nh())}).next(function(t){return{documents:t,Bn:o}})})}function Wd(t,e){var n=Ru(t),r=Ru(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Qd(t){var e=Ru(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ru(t),i=Jl(),o=Lf(n),s=Ed(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:of.readTimeIndex,range:a},function(t,e){var n=Rf(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ff(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function $d(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){return[2,(e=Ru(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ed(t),n=qu.min();return e.Ot({index:of.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ff(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Jd(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Ou.d)(this,function(p){switch(p.label){case 0:for(i=Ru(t),o=nh(),s=Jl(),a=th(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,zd(i,function(t){return Zc(Kc(Ku.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Bd(t,f,s,qu.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Yd(t,e,n){return void 0===n&&(n=nh()),Object(Ou.b)(this,void 0,void 0,function(){var r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return[4,zd(t,Zc(Hf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ru(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=wh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Ju.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Xd=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:wh(n.createTime)}),vf.resolve()},t.prototype.getNamedQuery=function(t,e){return vf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hf(t.bundledQuery),readTime:wh(t.readTime)}}(e)),vf.resolve()},t}(),Zd=function(){function t(){this.Wn=new Wl(tp.Gn),this.zn=new Wl(tp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new tp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new tp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ac(new Ku([])),r=new tp(n,t),i=new tp(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ac(new Ku([])),n=new tp(e,t),r=new tp(e,t+1),i=nh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new tp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),tp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ac.comparator(t.key,e.key)||Fu(t.ns,e.ns)},t.Hn=function(t,e){return Fu(t.ns,e.ns)||ac.comparator(t.key,e.key)},t}(),ep=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Wl(tp.Gn)}return t.prototype.checkEmpty=function(t){return vf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new jf(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new tp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return vf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return vf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new tp(e,0),i=new tp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),vf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Wl(Fu);return e.forEach(function(t){var e=new tp(t,0),i=new tp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),vf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ac.isDocumentKey(i)||(i=i.child(""));var o=new tp(new ac(i),0),s=new Wl(Fu);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),vf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Du(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return vf.forEach(e.mutations,function(i){var o=new tp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new tp(e,0),r=this.rs.firstAfterOrEqual(n);return vf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return vf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),np=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new zl(ac.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vf.resolve(n?n.document.clone():Ec.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Jl();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ec.newInvalidDocument(t))}),vf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Jl(),i=new ac(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||il(e,u)&&(r=r.insert(u.key,u.clone()))}return vf.resolve(r)},t.prototype.fs=function(t,e){return vf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new rp(this)},t.prototype.getSize=function(t){return vf.resolve(this.size)},t}(),rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ou.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),vf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(bd),ip=function(){function t(t){this.persistence=t,this.ds=new vd(function(t){return Ic(t)},Cc),this.lastRemoteSnapshotVersion=qu.min(),this.highestTargetId=0,this.ws=0,this._s=new Zd,this.targetCount=0,this.ys=sd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),vf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new sd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),vf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return vf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),vf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vf.resolve(n)},t.prototype.containsKey=function(t,e){return vf.resolve(this._s.containsKey(e))},t}(),op=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Eu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ip(this),this.Ut=new Wf,this.Ue=function(t,e){return new np(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Df(e),this.Qe=new Xd(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ep(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;xu("MemoryPersistence","Starting transaction:",t);var i=new sp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return vf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),sp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ou.c)(e,t),e}(mf),ap=function(){function t(t){this.persistence=t,this.As=new Zd,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vf.forEach(this.vs,function(r){var i=ac.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vf.or([function(){return vf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),up=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function cp(t,e){return"firestore_clients_"+t+"_"+e}function lp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hp(t,e){return"firestore_targets_"+t+"_"+e}up.UNAUTHENTICATED=new up(null),up.GOOGLE_CREDENTIALS=new up("google-credentials-uid"),up.FIRST_PARTY=new up("first-party-uid");var fp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Tu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Au("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Au("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ih(),s=0;i&&s<r.activeTargetIds.length;++s)i=sc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Au("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),gp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Au("SharedClientState","Failed to parse online state: "+e),null)},t}(),mp=function(){function t(){this.activeTargetIds=ih()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new zl(Fu),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=cp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new mp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ou.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(cp(this.persistenceKey,r)))&&(o=pp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hp(this.persistenceKey,t));if(n){var r=dp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return xu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){xu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){xu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(xu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Au("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ou.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ou.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Eu.o;if(null!=t)try{var n=JSON.parse(t);Du("number"==typeof n),e=n}catch(t){Au("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Eu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fp(this.currentUser,t,e,n),i=lp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=lp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=hp(this.persistenceKey,t),i=new dp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return pp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fp.Vs(new up(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return dp.Vs(r,e)},t.prototype.js=function(t){return gp.Vs(t)},t.prototype.ii=function(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(xu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ih();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),vp=function(){function t(){this.li=new mp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new mp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),bp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){xu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){xu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_p={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Op=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ep=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Ou.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new _u;s.listenOnce(vu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case yu.NO_ERROR:var e=s.getResponseJson();xu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yu.TIMEOUT:xu("Connection",'RPC "'+t+'" timed out'),o(new Tu(Su.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:var n=s.getStatus();if(xu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Su).indexOf(e)>=0?e:Su.UNKNOWN}(r.status);o(new Tu(a,r.message))}else o(new Tu(Su.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Tu(Su.UNAVAILABLE,"Connection failed."));break;default:Nu()}}finally{xu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new fu,i=gs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(vi.m)()||Object(vi.o)()||Object(vi.k)()||Object(vi.l)()||Object(vi.p)()||Object(vi.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");xu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Op({Ei:function(t){c?xu("Connection","Not sending because WebChannel is closed:",t):(u||(xu("Connection","Opening WebChannel transport."),a.open(),u=!0),xu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,wu.EventType.OPEN,function(){c||xu("Connection","WebChannel transport opened.")}),h(a,wu.EventType.CLOSE,function(){c||(c=!0,xu("Connection","WebChannel transport closed"),l.Vi())}),h(a,wu.EventType.ERROR,function(t){c||(c=!0,ju("Connection","WebChannel transport errored:",t),l.Vi(new Tu(Su.UNAVAILABLE,"The operation could not be completed")))}),h(a,wu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Du(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){xu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Fl[t];if(void 0!==e)return Hl(e)}(i),s=r.message;void 0===o&&(o=Su.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Tu(o,s)),a.close()}else xu("Connection","WebChannel received:",n),l.Si(n)}}),h(i,bu.STAT_EVENT,function(t){10===t.stat?xu("Connection","Detected buffering proxy"):11===t.stat&&xu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);xu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return xu("RestConnection","Received: ",t),t},function(e){throw ju("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+_p[t]},t}());function Sp(){return"undefined"!=typeof window?window:null}function Tp(){return"undefined"!=typeof document?document:null}function Ip(t){return new mh(t,!0)}var Cp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&xu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),xp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Su.RESOURCE_EXHAUSTED?(Au(e.toString()),Au("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Su.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Tu(Su.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ou.b)(t,void 0,void 0,function(){return Object(Ou.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return xu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(xu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ap=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ou.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Nu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Du(void 0===e||"string"==typeof e),Ju.fromBase64String(e||"")):(Du(void 0===e||e instanceof Uint8Array),Ju.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Su.UNKNOWN:Hl(t.code);return new Tu(e,t.message||"")}(a);n=new ch(r,i,o,s||null)}else if("documentChange"in e){i=Sh(t,(r=e.documentChange).document.name),o=wh(r.document.updateTime);var a=new _c({mapValue:{fields:r.document.fields}}),u=(s=Ec.newFoundDocument(i,o,a),r.targetIds||[]);n=new ah(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Sh(t,(r=e.documentDelete).document),o=r.readTime?wh(r.readTime):qu.min(),a=Ec.newNoDocument(i,o),n=new ah([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Sh(t,(r=e.documentRemove).document),n=new ah([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Nu();var c=e.filter;i=new ql(r=c.count||0),n=new uh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return qu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?qu.min():e.readTime?wh(e.readTime):qu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ch(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=xc(r)?{documents:Dh(t,r)}:{query:Rh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vh(t,e.resumeToken):e.snapshotVersion.compareTo(qu.min())>0&&(n.readTime=yh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ch(this.R),e.removeTarget=t,this.cr(e)},e}(xp),jp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ou.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Du(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Du(void 0!==e),t.map(function(t){return function(t,e){var n=wh(t.updateTime?t.updateTime:e);return n.isEqual(qu.min())&&(n=wh(e)),new El(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=wh(t.commitTime);return this.listener.Tr(n,e)}return Du(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ch(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return kh(e.R,t)})};this.cr(n)},e}(xp),kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ou.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Tu(Su.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Su.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Su.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),Np=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Au(e),this.Vr=!1):xu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Dp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ou.b)(o,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return Bp(this)?(xu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return(e=Ru(t)).$r.add(4),[4,Pp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Rp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Np(n,r)};function Rp(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:if(!Bp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pp(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lp(t,e){var n=Ru(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),qp(n)?Vp(n):rg(n).er()&&Mp(n,e))}function Fp(t,e){var n=Ru(t),r=rg(n);n.Or.delete(e),r.er()&&Up(n,e),0===n.Or.size&&(r.er()?r.ir():Bp(n)&&n.Br.set("Unknown"))}function Mp(t,e){t.qr.U(e.targetId),rg(t).mr(e)}function Up(t,e){t.qr.U(e),rg(t).yr(e)}function Vp(t){t.qr=new hh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),rg(t).start(),t.Br.Sr()}function qp(t){return Bp(t)&&!rg(t).tr()&&t.Or.size>0}function Bp(t){return 0===Ru(t).$r.size}function Hp(t){t.qr=void 0}function zp(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){return t.Or.forEach(function(e,n){Mp(t,e)}),[2]})})}function Gp(t,e){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(n){return Hp(t),qp(t)?(t.Br.Nr(e),Vp(t)):t.Br.set("Unknown"),[2]})})}function Kp(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ou.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ch&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ou.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),xu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Wp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ah?t.qr.X(e):e instanceof uh?t.qr.rt(e):t.qr.et(e),n.isEqual(qu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vd(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Ju.EMPTY_BYTE_STRING,n.snapshotVersion)),Up(t,e);var r=new Nf(n.target,e,1,n.sequenceNumber);Mp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return xu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Wp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Wp(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r=this;return Object(Ou.d)(this,function(i){switch(i.label){case 0:if(!Ef(e))throw e;return t.$r.add(1),[4,Pp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Vd(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ou.b)(r,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return xu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Rp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Qp(t,e){return e().catch(function(n){return Wp(t,n,e)})}function $p(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ou.d)(this,function(s){switch(s.label){case 0:e=Ru(t),n=ig(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Bp(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Hd(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ig(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Wp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Jp(e)&&Yp(e),[2]}})})}function Jp(t){return Bp(t)&&!ig(t).tr()&&t.kr.length>0}function Yp(t){ig(t).start()}function Xp(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){return ig(t).Ar(),[2]})})}function Zp(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ou.d)(this,function(i){for(e=ig(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function tg(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=kf.from(r,e,n),[4,Qp(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,$p(t)];case 2:return o.sent(),[2]}})})}function eg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e&&ig(t).pr?[4,function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return Bl(r=e.code)&&r!==Su.ABORTED?(n=t.kr.shift(),ig(t).sr(),[4,Qp(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,$p(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jp(t)&&Yp(t),[2]}})})}function ng(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return n=Ru(t),e?(n.$r.delete(2),[4,Rp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Pp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Ru(t);return r.br(),new Ap(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:zp.bind(null,t),Ri:Gp.bind(null,t),_r:Kp.bind(null,t)}),t.Mr.push(function(n){return Object(Ou.b)(e,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qp(t)?Vp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hp(t),e.label=3;case 3:return[2]}})})})),t.Ur}function ig(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Ru(t);return r.br(),new jp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Xp.bind(null,t),Ri:eg.bind(null,t),Ir:Zp.bind(null,t),Tr:tg.bind(null,t)}),t.Mr.push(function(n){return Object(Ou.b)(e,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,$p(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(xu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var og=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tu(Su.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function sg(t,e){if(Au("AsyncQueue",e+": "+t),Ef(t))return new Tu(Su.UNAVAILABLE,e+": "+t);throw t}var ag=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ac.comparator(e.key,n.key)}:function(t,e){return ac.comparator(t.key,e.key)},this.keyedMap=Xl(),this.sortedSet=new zl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ug=function(){function t(){this.Kr=new zl(ac.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Nu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),cg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ag.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&el(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),lg=function(){this.Wr=void 0,this.listeners=[]},hg=function(){this.queries=new vd(function(t){return nl(t)},el),this.onlineState="Unknown",this.Gr=new Set};function fg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ou.d)(this,function(c){switch(c.label){case 0:if(n=Ru(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=sg(a,"Initialization of query '"+rl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&mg(n),[2]}})})}function dg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ou.d)(this,function(a){return n=Ru(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function pg(t,e){for(var n=Ru(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&mg(n)}function gg(t,e,n){var r=Ru(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function mg(t){t.Gr.forEach(function(t){t.next()})}var yg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new cg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),bg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Sh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?jh(this.R,t.document,!1):Ec.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return wh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new bg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||nh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return[4,Jd(this.localStore,new bg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Yd(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Nd(Object.assign({},this.progress),t))]}})})}}();var wg=function(t){this.key=t},_g=function(t){this.key=t},Og=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=nh(),this.mutatedKeys=nh(),this.lo=ol(t),this.fo=new ag(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ug,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Wc(this.query)&&i.size===this.query.limit?i.last():null,c=Qc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=il(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Wc(this.query)||Qc(this.query))for(;s.size>this.query.limit;){var l=Wc(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new cg(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ug,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=nh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new _g(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new wg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=nh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Eg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sg=function(t){this.key=t,this.bo=!1},Tg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vd(function(t){return nl(t)},el),this.Vo=new Map,this.So=new Set,this.Do=new zl(ac.comparator),this.Co=new Map,this.No=new Zd,this.xo={},this.Fo=new Map,this.ko=sd.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Ig(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:return n=em(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,zd(n.localStore,Zc(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Cg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Lp(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Cg(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ou.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Kd(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Vg(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Kd(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Og(e,i.Bn),s=o._o(i.documents),a=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Vg(t,n,u.To),c=new Eg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function xg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return n=Ru(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!el(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Gd(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Fp(n.remoteStore,r.targetId),Mg(n,r.targetId)}).catch(hd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Mg(n,r.targetId),[4,Gd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ag(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:r=nm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ru(t),i=Vu.now(),o=e.reduce(function(t,e){return t.add(e.key)},nh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Al(c,n.get(c.key));null!=l&&s.push(new Dl(c.key,l,Oc(l.toProto().mapValue),Sl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new zl(Fu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hg(r,i.changes)];case 3:return a.sent(),[4,$p(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=sg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function jg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:n=Ru(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Du(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Du(r.bo):t.removedDocuments.size>0&&(Du(r.bo),r.bo=!1))}),[4,Hg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function kg(t,e,n){var r=Ru(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ru(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&mg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ng(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ou.d)(this,function(c){switch(c.label){case 0:return(r=Ru(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new zl(ac.comparator)).insert(o,Ec.newNoDocument(o,qu.min())),a=nh().add(o),u=new oh(qu.min(),new Map,new Wl(Fu),s,a),[4,jg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Bg(r),[3,4];case 2:return[4,Gd(r.localStore,e,!1).then(function(){return Mg(r,e,n)}).catch(hd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Dg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:n=Ru(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ud(n.localStore,e)];case 2:return i=o.sent(),Fg(n,r,null),Lg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,hd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Rg(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:r=Ru(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ru(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Du(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Fg(r,e,n),Lg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,hd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Pg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:Bp((n=Ru(t)).remoteStore)||xu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ru(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=sg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Lg(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Fg(t,e,n){var r=Ru(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Mg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ug(t,e)})}function Ug(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Bg(t))}function Vg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wg?(t.No.addReference(o.key,e),qg(t,o)):o instanceof _g?(xu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ug(t,o.key)):Nu()}}function qg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(xu("SyncEngine","New document in limbo: "+n),t.So.add(r),Bg(t))}function Bg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ac(Ku.fromString(e)),r=t.ko.next();t.Co.set(r,new Sg(n)),t.Do=t.Do.insert(n,r),Lp(t.remoteStore,new Nf(Zc(Kc(n.path)),r,2,Eu.o))}}function Hg(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:return r=Ru(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rd.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ou.d)(this,function(l){switch(l.label){case 0:n=Ru(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return vf.forEach(e,function(e){return vf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return vf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ef(r=l.sent()))throw r;return xu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function zg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return(n=Ru(t)).currentUser.isEqual(e)?[3,3]:(xu("SyncEngine","User change. New user:",e.toKey()),[4,Md(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Tu(Su.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Gg(t,e){var n=Ru(t),r=n.Co.get(e);if(r&&r.bo)return nh().add(r.key);var i=nh(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Kg(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return[4,Kd((n=Ru(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Vg(n,e.targetId,i.To),i)]}})})}function Wg(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){return[2,Qd((e=Ru(t)).localStore).then(function(t){return Hg(e,t)})]})})}function Qg(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o;return Object(Ou.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ru(t),r=Ru(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):vf.resolve(null)})})}((i=Ru(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$p(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fg(i,e,r||null),Lg(i,e),function(t,e){Ru(Ru(t)._n).Gt(e)}(i.localStore,e)):Nu(),s.label=4;case 4:return[4,Hg(i,o)];case 5:return s.sent(),[3,7];case 6:xu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function $g(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ou.d)(this,function(c){switch(c.label){case 0:return em(n=Ru(t)),nm(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jg(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,ng(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Lp(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Mg(n,e),Gd(n.localStore,e,!0)}),Fp(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Jg(n,a)];case 5:return c.sent(),function(t){var e=Ru(t);e.Co.forEach(function(t,n){Fp(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new zl(ac.comparator)}(n),n.Oo=!1,[4,ng(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Jg(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Ou.d)(this,function(g){switch(g.label){case 0:n=Ru(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,zd(n.localStore,Zc(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Kg(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Wd(n.localStore,a)];case 8:return p=g.sent(),[4,zd(n.localStore,p)];case 9:return u=g.sent(),[4,Cg(n,Yg(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Yg(t){return Gc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xg(t){var e=Ru(t);return Ru(Ru(e.localStore).persistence).fn()}function Zg(t,e,n,r){return Object(Ou.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ou.d)(this,function(a){switch(a.label){case 0:return(i=Ru(t)).Oo?(xu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qd(i.localStore)];case 3:return o=a.sent(),s=oh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hg(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Gd(i.localStore,e,!0)];case 6:return a.sent(),Mg(i,e,r),[3,8];case 7:Nu(),a.label=8;case 8:return[2]}})})}function tm(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ou.d)(this,function(f){switch(f.label){case 0:if(!(r=em(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(xu("SyncEngine","Adding an already active target "+s),[3,5]):[4,Wd(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,zd(r.localStore,a)];case 3:return u=f.sent(),[4,Cg(r,Yg(a),u.targetId,!1)];case 4:f.sent(),Lp(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Gd(r.localStore,t,!1).then(function(){Fp(r.remoteStore,t),Mg(r,t)}).catch(hd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function em(t){var e=Ru(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ng.bind(null,e),e.vo._r=pg.bind(null,e.eventManager),e.vo.Mo=gg.bind(null,e.eventManager),e}function nm(t){var e=Ru(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rg.bind(null,e),e}var rm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return this.R=Ip(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Fd(this.persistence,new Pd,t.initialUser,this.R)},t.prototype.qo=function(t){return new op(ap.bs,this.R)},t.prototype.Bo=function(t){return new vp},t.prototype.terminate=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ou.c)(e,t),e.prototype.initialize=function(e){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$d(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,nm(this.Ko.syncEngine)];case 4:return n.sent(),[4,$p(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Fd(this.persistence,new Pd,t.initialUser,this.R)},e.prototype.Uo=function(t){return new pd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=kd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xf.withCacheSize(this.cacheSizeBytes):Xf.DEFAULT;return new xd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sp(),Tp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vp},e}(rm),om=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ou.c)(e,t),e.prototype.initialize=function(e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof yp?(this.sharedClientState.syncEngine={ui:Qg.bind(null,n),ai:Zg.bind(null,n),hi:tm.bind(null,n),fn:Xg.bind(null,n),ci:Wg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ou.b)(r,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return[4,$g(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Sp();if(!yp.yt(e))throw new Tu(Su.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(im),sm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n=this;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return kg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zg.bind(null,this.syncEngine),[4,ng(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new hg},t.prototype.createDatastore=function(t){var e=Ip(t.databaseInfo.databaseId),n=new Ep(t.databaseInfo);return function(t,e,n){return new kp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return kg(s.syncEngine,t,0)},o=wp.yt()?new wp:new bp,new Dp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Tg(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e=Ru(t),xu("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Pp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),am=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),um=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new yf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new vg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ou.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Tu(Su.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ou.d)(this,function(u){switch(u.label){case 0:return n=Ru(t),r=Ch(n.R)+"/documents",i={documents:e.map(function(t){return Eh(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Du(!!e.found);var n=Sh(t,e.found.name),r=wh(e.found.updateTime),i=new _c({mapValue:{fields:e.found.fields}});return Ec.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Du(!!e.missing),Du(!!e.readTime);var n=Sh(t,e.missing),r=wh(e.readTime);return Ec.newNoDocument(n,r)}(t,e):Nu()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Du(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ul(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ou.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ac.fromPath(n);e.mutations.push(new Vl(r,e.precondition(r)))}),[4,function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return n=Ru(t),r=Ch(n.R)+"/documents",i={writes:e.map(function(t){return kh(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Nu();e=qu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Tu(Su.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Sl.updateTime(e):Sl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(qu.min()))throw new Tu(Su.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sl.updateTime(e)}return Sl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),cm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Cp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ou.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ou.d)(this,function(r){return t=new um(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ic(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bl(e)}return!1},t}(),lm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=up.UNAUTHENTICATED,this.clientId=Lu.u(),this.credentialListener=function(){},this.receivedInitialUser=new yf,this.credentials.setChangeListener(function(t){xu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Tu(Su.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new yf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ou.b)(t,void 0,void 0,function(){var t,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=sg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function hm(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),xu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Ou.b)(i,void 0,void 0,function(){return Object(Ou.d)(this,function(t){switch(t.label){case 0:return[4,Md(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function fm(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,dm(t)];case 1:return n=i.sent(),xu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Ou.b)(this,void 0,void 0,function(){var n,r;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return(n=Ru(t)).asyncQueue.verifyOperationInProgress(),xu("RemoteStore","RemoteStore received new credentials"),r=Bp(n),n.$r.add(3),[4,Pp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Rp(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function dm(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(xu("FirestoreClient","Using default OfflineComponentProvider"),[4,hm(t,new rm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function pm(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(xu("FirestoreClient","Using default OnlineComponentProvider"),[4,fm(t,new sm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function gm(t){return dm(t).then(function(t){return t.persistence})}function mm(t){return dm(t).then(function(t){return t.localStore})}function ym(t){return pm(t).then(function(t){return t.remoteStore})}function vm(t){return pm(t).then(function(t){return t.syncEngine})}function bm(t){return Object(Ou.b)(this,void 0,void 0,function(){var e,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return[4,pm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Ig.bind(null,e.syncEngine),n.onUnlisten=xg.bind(null,e.syncEngine),n)]}})})}function wm(t,e,n){var r=this;void 0===n&&(n={});var i=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(r,void 0,void 0,function(){var r;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new am({next:function(o){e.enqueueAndForget(function(){return dg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Tu(Su.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Tu(Su.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new yg(Kc(n.path),o,{includeMetadataChanges:!0,so:!0});return fg(t,s)},[4,bm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function _m(t,e,n){var r=this;void 0===n&&(n={});var i=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(r,void 0,void 0,function(){var r;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new am({next:function(n){e.enqueueAndForget(function(){return dg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Tu(Su.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new yg(n,o,{includeMetadataChanges:!0,so:!0});return fg(t,s)},[4,bm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Om=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Em=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sm=new Map,Tm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Im=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(up.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Cm=function(){function t(t){var e=this;this.oc=null,this.currentUser=up.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(xu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Du("string"==typeof n.accessToken),new Tm(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Du(null===t||"string"==typeof t),new up(t)},t}(),xm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=up.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Am=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new xm(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(up.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function jm(t,e,n){if(!n)throw new Tu(Su.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function km(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tu(Su.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Nm(t,e,n,r){if(!0===e&&!0===r)throw new Tu(Su.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dm(t){if(!ac.isDocumentKey(t))throw new Tu(Su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Rm(t){if(ac.isDocumentKey(t))throw new Tu(Su.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Nu()}function Lm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tu(Su.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pm(t);throw new Tu(Su.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fm(t,e){if(e<=0)throw new Tu(Su.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Mm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Tu(Su.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tu(Su.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Nm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Um=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1,t instanceof Em?(this._databaseId=t,this._credentials=new Im):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Tu(Su.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(t.options.projectId)}(t),this._credentials=new Cm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Tu(Su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Tu(Su.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Im;switch(t.type){case"gapi":var e=t.client;return Du(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Am(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Tu(Su.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Sm.get(this))&&(xu("ComponentProvider","Removing Datastore"),Sm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vm=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),qm=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Bm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Kc(r))||this)._path=r,i.type="collection",i}return Object(Ou.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Vm(this.firestore,null,new ac(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qm);function Hm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.g)(t),jm("collection","path",e),t instanceof Um)return Rm(n=Ku.fromString.apply(Ku,Object(Ou.f)([e],r))),new Bm(t,null,n);if(!(t instanceof Vm||t instanceof Bm))throw new Tu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rm(n=Ku.fromString.apply(Ku,Object(Ou.f)([t.path],r)).child(Ku.fromString(e))),new Bm(t.firestore,null,n)}function zm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.g)(t),1===arguments.length&&(e=Lu.u()),jm("doc","path",e),t instanceof Um)return Dm(n=Ku.fromString.apply(Ku,Object(Ou.f)([e],r))),new Vm(t,null,new ac(n));if(!(t instanceof Vm||t instanceof Bm))throw new Tu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dm(n=t._path.child(Ku.fromString.apply(Ku,Object(Ou.f)([e],r)))),new Vm(t.firestore,t instanceof Bm?t._converter:null,new ac(n))}function Gm(t,e){return t=Object(vi.g)(t),e=Object(vi.g)(e),(t instanceof Vm||t instanceof Bm)&&(e instanceof Vm||e instanceof Bm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Km(t,e){return t=Object(vi.g)(t),e=Object(vi.g)(e),t instanceof qm&&e instanceof qm&&t.firestore===e.firestore&&el(t._query,e._query)&&t._converter===e._converter}var Wm=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Cp(this,"async_queue_retry"),this.Ec=function(){var e=Tp();e&&xu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Tp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ou.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ef(t=n.sent()))throw t;return xu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Au("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=og.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Nu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Ou.b)(this,void 0,void 0,function(){var t;return Object(Ou.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Qm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new yf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var $m=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Wm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ou.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ym(this),this._firestoreClient.terminate()},e}(Um);function Jm(t){return t._firestoreClient||Ym(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ym(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Om(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new lm(t._credentials,t._queue,r)}function Xm(t,e,n){var r=this,i=new yf;return t.asyncQueue.enqueue(function(){return Object(Ou.b)(r,void 0,void 0,function(){var r;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,hm(t,n)];case 1:return o.sent(),[4,fm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Su.FAILED_PRECONDITION||t.code===Su.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Zm(t){if(t._initialized||t._terminated)throw new Tu(Su.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ty=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Tu(Su.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ey=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ju.fromBase64String(e))}catch(e){throw new Tu(Su.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ju.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ny=function(t){this._methodName=t},ry=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tu(Su.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tu(Su.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Fu(this._lat,t._lat)||Fu(this._long,t._long)},t}(),iy=/^__.*__$/,oy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Dl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Nl(t,this.data,e,this.fieldTransforms)},t}(),sy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Dl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ay(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nu()}}var uy=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return xy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ay(this.Dc)&&iy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),cy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ip(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new uy({Dc:t,methodName:e,Lc:n,path:Qu.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ly(t){var e=t._freezeSettings(),n=Ip(t._databaseId);return new cy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",s,r);var a,u,c=Oy(r,s);if(o.merge)a=new $u(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ty(e,f[h],n);if(!s.contains(d))throw new Tu(Su.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ay(l,d)||l.push(d)}a=new $u(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new oy(new _c(c),a,u)}var fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ny);function dy(t,e,n){return new uy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ol(t.path,new pl)},e.prototype.isEqual=function(t){return t instanceof e},e}(ny),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Ou.c)(e,t),e.prototype._toFieldTransform=function(t){var e=dy(this,t,!0),n=this.qc.map(function(t){return _y(t,e)}),r=new gl(n);return new Ol(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ny),my=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Ou.c)(e,t),e.prototype._toFieldTransform=function(t){var e=dy(this,t,!0),n=this.qc.map(function(t){return _y(t,e)}),r=new yl(n);return new Ol(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ny),yy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Ou.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new bl(t.R,cl(t.R,this.Uc));return new Ol(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ny);function vy(t,e,n,r){var i=t.Bc(1,e,n);Sy("Data must be an object, but it was:",i,r);var o=[],s=_c.empty();Hu(r,function(t,r){var a=Cy(e,t,n);r=Object(vi.g)(r);var u=i.kc(a);if(r instanceof fy)o.push(a);else{var c=_y(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new $u(o);return new sy(s,a,i.fieldTransforms)}function by(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Ty(e,r,n)],u=[i];if(o.length%2!=0)throw new Tu(Su.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ty(e,o[c])),u.push(o[c+1]);for(var l=[],h=_c.empty(),f=a.length-1;f>=0;--f)if(!Ay(l,a[f])){var d=a[f],p=u[f];p=Object(vi.g)(p);var g=s.kc(d);if(p instanceof fy)l.push(d);else{var m=_y(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new $u(l);return new sy(h,y,s.fieldTransforms)}function wy(t,e,n,r){return void 0===r&&(r=!1),_y(n,t.Bc(r?4:3,e))}function _y(t,e){if(Ey(t=Object(vi.g)(t)))return Sy("Unsupported field value:",e,t),Oy(t,e);if(t instanceof ny)return function(t,e){if(!ay(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=_y(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(vi.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vu.fromDate(t);return{timestampValue:yh(e.R,n)}}if(t instanceof Vu)return n=new Vu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:yh(e.R,n)};if(t instanceof ry)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ey)return{bytesValue:vh(e.R,t._byteString)};if(t instanceof Vm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_h(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Pm(t))}(t,e)}function Oy(t,e){var n={};return zu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(t,function(t,r){var i=_y(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ey(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vu||t instanceof ry||t instanceof ey||t instanceof Vm||t instanceof ny)}function Sy(t,e,n){if(!Ey(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Pm(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Ty(t,e,n){if((e=Object(vi.g)(e))instanceof ty)return e._internalPath;if("string"==typeof e)return Cy(t,e);throw xy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Iy=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(Iy)>=0)throw xy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ty.bind.apply(ty,Object(Ou.f)([void 0],e.split(".")))))._internalPath}catch(r){throw xy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Tu(Su.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ay(t,e){return t.some(function(t){return t.isEqual(e)})}var jy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ky(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ny("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ky=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(jy);function Ny(t,e){return"string"==typeof e?Cy(t,e):e instanceof ty?e._internalPath:e._delegate._internalPath}var Dy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ry=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ou.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ny("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(jy),Py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ry),Ly=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Py(n._firestore,n._userDataWriter,r.key,r,new Dy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tu(Su.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Py(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Py(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Dy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Fy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nu()}}function My(t,e){return t instanceof Ry&&e instanceof Ry?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ly&&e instanceof Ly&&t._firestore===e._firestore&&Km(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Uy(t){if(Qc(t)&&0===t.explicitOrderBy.length)throw new Tu(Su.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vy=function(){};function qy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var By=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Ou.c)(e,t),e.prototype._apply=function(t){var e=ly(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Tu(Su.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$y(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Qy(r,t,l[c]));a={arrayValue:{values:u}}}else a=Qy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$y(s,o),a=wy(n,"where",s,"in"===o||"not-in"===o);var h=Ac.create(i,o,a);return function(t,e){if(e.g()){var n=Jc(t);if(null!==n&&!n.isEqual(e.field))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$c(t);null!==r&&Jy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Tu(Su.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new qm(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Ou.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vc(e,n);return function(t,e){if(null===$c(t)){var n=Jc(t);null!==n&&Jy(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new qm(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new zc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vy),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Ou.c)(e,t),e.prototype._apply=function(t){return new qm(t.firestore,t._converter,tl(t._query,this.Gc,this.zc))},e}(Vy),Gy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ou.c)(e,t),e.prototype._apply=function(t){var e=Wy(t,this.type,this.Hc,this.Jc);return new qm(t.firestore,t._converter,function(t,e){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vy),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ou.c)(e,t),e.prototype._apply=function(t){var e=Wy(t,this.type,this.Hc,this.Jc);return new qm(t.firestore,t._converter,function(t,e){return new zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vy);function Wy(t,e,n,r){if(n[0]=Object(vi.g)(n[0]),n[0]instanceof jy)return function(t,e,n,r,i){if(!r)throw new Tu(Su.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Xc(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(gc(e,r.key));else{var c=r.data.field(u.field);if(ec(c))throw new Tu(Su.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Mc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ly(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Tu(Su.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yc(t)&&-1!==c.indexOf("/"))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ku.fromString(c));if(!ac.isDocumentKey(l))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ac(l);a.push(gc(e,h))}else{var f=wy(n,r,c);a.push(f)}}return new Mc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Qy(t,e,n){if("string"==typeof(n=Object(vi.g)(n))){if(""===n)throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yc(e)&&-1!==n.indexOf("/"))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ku.fromString(n));if(!ac.isDocumentKey(r))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gc(t,new ac(r))}if(n instanceof Vm)return gc(t,n._key);throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pm(n)+".")}function $y(t,e){if(!Array.isArray(t)||0===t.length)throw new Tu(Su.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Tu(Su.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jy(t,e,n){if(!n.isEqual(e))throw new Tu(Su.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Yy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zu(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Nu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Hu(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ry(Zu(t.latitude),Zu(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=nc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Xu(t);return new Vu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ku.fromString(t);Du(Kh(n));var r=new Em(n.get(1),n.get(3)),i=new ac(n.popFirst(5));return r.isEqual(e)||Au("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Xy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ou.c)(e,t),e.prototype.convertBytes=function(t){return new ey(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vm(this.firestore,null,e)},e}(Yy),tv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ly(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ev(t,this._firestore),i=Xy(r._converter,e,n),o=hy(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Sl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ev(t,this._firestore);return o="string"==typeof(e=Object(vi.g)(e))||e instanceof ty?by(this._dataReader,"WriteBatch.update",s._key,e,n,r):vy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Sl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ev(t,this._firestore);return this._mutations=this._mutations.concat(new Ul(e._key,Sl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Tu(Su.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ev(t,e){if((t=Object(vi.g)(t)).firestore!==e)throw new Tu(Su.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ou.c)(e,t),e.prototype.convertBytes=function(t){return new ey(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vm(this.firestore,null,e)},e}(Yy);function rv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Lm(t,Vm);var o=Lm(t.firestore,$m),s=ly(o);return ov(o,[("string"==typeof(e=Object(vi.g)(e))||e instanceof ty?by(s,"updateDoc",t._key,e,n,r):vy(s,"updateDoc",t._key,e)).toMutation(t._key,Sl.exists(!0))])}function iv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(vi.g)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Qm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Qm(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Vm)c=Lm(t.firestore,$m),l=Kc(t._key.path),u={next:function(e){i[a]&&i[a](sv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Lm(t,qm);c=Lm(d.firestore,$m),l=d._query;var p=new nv(c);u={next:function(t){i[a]&&i[a](new Ly(c,p,d,t))},error:i[a+1],complete:i[a+2]},Uy(t._query)}return function(t,e,n,r){var i=this,o=new am(r),s=new yg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(i,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e=fg,[4,bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(i,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e=dg,[4,bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Jm(c),l,h,u)}function ov(t,e){return function(t,e){var n=this,r=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var n;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return n=Ag,[4,vm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Jm(t),e)}function sv(t,e,n){var r=n.docs.get(e._key),i=new nv(t);return new Ry(t,i,e._key,r,new Dy(n.hasPendingWrites,n.fromCache),e._converter)}var av=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ou.c)(e,t),e.prototype.get=function(e){var n=this,r=ev(e,this._firestore),i=new nv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Ry(n._firestore,i,r._key,t._document,new Dy(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ly(t)}return t.prototype.get=function(t){var e=this,n=ev(t,this._firestore),r=new Zy(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Nu();var i=t[0];if(i.isFoundDocument())return new jy(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new jy(e._firestore,r,n._key,null,n._converter);throw Nu()})},t.prototype.set=function(t,e,n){var r=ev(t,this._firestore),i=Xy(r._converter,e,n),o=hy(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ev(t,this._firestore);return o="string"==typeof(e=Object(vi.g)(e))||e instanceof ty?by(this._dataReader,"Transaction.update",s._key,e,n,r):vy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ev(t,this._firestore);return this._transaction.delete(e._key),this},t}());function uv(){if("undefined"==typeof Uint8Array)throw new Tu(Su.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cv(){if("undefined"==typeof atob)throw new Tu(Su.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return cv(),new t(ey.fromBase64String(e))},t.fromUint8Array=function(e){return uv(),new t(ey.fromUint8Array(e))},t.prototype.toBase64=function(){return cv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return uv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zm(t=Lm(t,$m));var n=Jm(t),r=t._freezeSettings(),i=new sm;return Xm(n,i,new im(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zm(t=Lm(t,$m));var e=Jm(t),n=t._freezeSettings(),r=new sm;return Xm(e,r,new om(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Tu(Su.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ou.b)(e,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ou.b)(this,void 0,void 0,function(){return Object(Ou.d)(this,function(e){switch(e.label){case 0:return wf.yt()?[4,wf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),fv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Em||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Lm(t,Um))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ou.b)(e,void 0,void 0,function(){var e,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return[4,gm(t)];case 1:return e=r.sent(),[4,ym(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Ru(t);return e.$r.delete(0),Rp(e)}(n))]}})})})}(Jm(Lm(this._delegate,$m)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ou.b)(e,void 0,void 0,function(){var e,n;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return[4,gm(t)];case 1:return e=r.sent(),[4,ym(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ou.b)(this,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return(e=Ru(t)).$r.add(0),[4,Pp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Jm(Lm(this._delegate,$m)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Nm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(e,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(r){switch(r.label){case 0:return e=Pg,[4,vm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Jm(Lm(this._delegate,$m)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new am(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ru(t).Gr.add(e),e.next()},[4,bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var e;return Object(Ou.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ru(t).Gr.delete(e)},[4,bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Jm(t=Lm(t,$m)),Qm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Tu(Su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Iv(this,Hm(this._delegate,t))}catch(t){throw vv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new yv(this,zm(this._delegate,t))}catch(t){throw vv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Ev(this,function(t,e){if(t=Lm(t,Um),jm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tu(Su.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qm(t,null,function(t){return new zc(Ku.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw vv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var n;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return pm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new cm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Jm(t),function(n){return e(new av(t,n))})}(this._delegate,function(n){return t(new pv(e,n))})},t.prototype.batch=function(){var t=this;return Jm(this._delegate),new gv(new tv(this._delegate,function(e){return ov(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Tu(Su.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Tu(Su.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),dv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ou.c)(e,t),e.prototype.convertBytes=function(t){return new lv(new ey(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return yv.Zc(e,this.firestore,null)},e}(Yy),pv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new dv(t)}return t.prototype.get=function(t){var e=this,n=Cv(t);return this._delegate.get(n).then(function(t){return new _v(e._firestore,new Ry(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Cv(t);return n?(km("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ou.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Cv(t);return this._delegate.delete(e),this},t}(),gv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Cv(t);return n?(km("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cv(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ou.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Cv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),mv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Py(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ov(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new dv(e),n),i.set(n,o)),o},t}();mv.eu=new WeakMap;var yv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dv(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Tu(Su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Vm(n._delegate,r,new ac(e)))},t.Zc=function(e,n,r){return new t(n,new Vm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Iv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Iv(this.firestore,Hm(this._delegate,t))}catch(t){throw vv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(vi.g)(t))instanceof Vm&&Gm(this._delegate,t)},t.prototype.set=function(t,e){e=km("DocumentReference.set",e);try{return function(t,e,n){t=Lm(t,Vm);var r=Lm(t.firestore,$m),i=Xy(t._converter,e,n);return ov(r,[hy(ly(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Sl.none())])}(this._delegate,t,e)}catch(t){throw vv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rv(this._delegate,t):rv.apply(void 0,Object(Ou.f)([this._delegate,t,e],n))}catch(t){throw vv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ov(Lm((t=this._delegate).firestore,$m),[new Ul(t._key,Sl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bv(e),i=wv(e,function(e){return new _v(t.firestore,new Ry(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return iv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lm(t,Vm);var e=Lm(t.firestore,$m),n=Jm(e),r=new nv(e);return function(t,e){var n=this,r=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var n;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i;return Object(Ou.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ru(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Tu(Su.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,mm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Ry(e,r,t._key,n,new Dy(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lm(t,Vm);var e=Lm(t.firestore,$m);return wm(Jm(e),t._key,{source:"server"}).then(function(n){return sv(e,t,n)})}(this._delegate):function(t){t=Lm(t,Vm);var e=Lm(t.firestore,$m);return wm(Jm(e),t._key).then(function(n){return sv(e,t,n)})}(this._delegate)).then(function(t){return new _v(e.firestore,new Ry(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mv.tu(this.firestore,e):null))},t}();function vv(t,e,n){return t.message=t.message.replace(e,n),t}function bv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qm(r))return r}return{}}function wv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qm(t[0])?t[0]:Qm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _v=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new yv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return My(this._delegate,t._delegate)},t}(),Ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ou.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(_v),Ev=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,qy(this._delegate,function(t,e,n){var r=e,i=Ny("where",t);return new By(i,r,n)}(e,n,r)))}catch(e){throw vv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,qy(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ny("orderBy",t);return new Hy(r,n)}(e,n)))}catch(e){throw vv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,qy(this._delegate,function(t){return Fm("limit",t),new zy("limit",t,"F")}(e)))}catch(e){throw vv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,qy(this._delegate,function(t){return Fm("limitToLast",t),new zy("limitToLast",t,"L")}(e)))}catch(e){throw vv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw vv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw vv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw vv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,qy(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw vv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Km(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Lm(t,qm);var e=Lm(t.firestore,$m),n=Jm(e),r=new nv(e);return function(t,e){var n=this,r=new yf;return t.asyncQueue.enqueueAndForget(function(){return Object(Ou.b)(n,void 0,void 0,function(){var n;return Object(Ou.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ou.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Ou.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Kd(t,e,!0)];case 1:return a=u.sent(),r=new Og(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=sg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,mm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Ly(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Lm(t,qm);var e=Lm(t.firestore,$m),n=Jm(e),r=new nv(e);return _m(n,t._query,{source:"server"}).then(function(n){return new Ly(e,r,t,n)})}(this._delegate):function(t){t=Lm(t,qm);var e=Lm(t.firestore,$m),n=Jm(e),r=new nv(e);return Uy(t._query),_m(n,t._query).then(function(n){return new Ly(e,r,t,n)})}(this._delegate)).then(function(t){return new Tv(e.firestore,new Ly(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bv(e),i=wv(e,function(e){return new Tv(t.firestore,new Ly(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return iv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?mv.tu(this.firestore,e):null))},t}(),Sv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ov(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Tv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ev(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ov(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Sv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ov(n._firestore,r))})},t.prototype.isEqual=function(t){return My(this._delegate,t._delegate)},t}(),Iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ou.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yv(this.firestore,void 0===t?zm(this._delegate):zm(this._delegate,t))}catch(t){throw vv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Lm(t.firestore,$m),r=zm(t),i=Xy(t._converter,e);return ov(n,[hy(ly(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Sl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new yv(e.firestore,t)})},e.prototype.isEqual=function(t){return Gm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?mv.tu(this.firestore,t):null))},e}(Ev);function Cv(t){return Lm(t,Vm)}var xv,Av=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(ty.bind.apply(ty,Object(Ou.f)([void 0],t)))}return t.documentId=function(){return new t(Qu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(vi.g)(t))instanceof ty&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),jv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new py("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new fy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new my("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new yy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),kv=n("/6Yf"),Nv={Firestore:fv,GeoPoint:ry,Timestamp:Vu,Blob:lv,Transaction:pv,WriteBatch:gv,DocumentReference:yv,DocumentSnapshot:_v,Query:Ev,QueryDocumentSnapshot:Ov,QuerySnapshot:Tv,CollectionReference:Iv,FieldPath:Av,FieldValue:jv,setLogLevel:function(t){Iu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new kv.a("firestore",function(t){return function(t,e){return new fv(t,new $m(t,e),new hv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Nv)))})(xv=yi.a),xv.registerVersion("@firebase/firestore","2.2.4");var Dv=n("VRyK"),Rv=n("qgXg"),Pv=n("Ylt2");class Lv extends dt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Fv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new pt.a;if(this.isStopped||this.hasError?o=de.a.EMPTY:(this.observers.push(t),o=new Pv.a(this,t)),r&&t.add(t=new pi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Rv.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Fv{constructor(t,e){this.time=t,this.value=e}}function Mv(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Lv(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Uv(t,e){return e?Pt(()=>t,e):Pt(()=>t)}var Vv=n("tf+s");const qv=new r.q("angularfire2.auth.use-emulator"),Bv=new r.q("angularfire2.auth.settings"),Hv=new r.q("angularfire2.auth.tenant-id"),zv=new r.q("angularfire2.auth.langugage-code"),Gv=new r.q("angularfire2.auth.use-device-language"),Kv=new r.q("angularfire.auth.persistence");let Wv=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new gi.d(i),f=Object(gi.h)(h),d=new dt.a,p=Object(ft.a)(void 0).pipe(Object(pi.b)(h.outsideAngular),Pt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Dt.a)(()=>Object(gi.g)(t,i,e)),Object(Dt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(gi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Mv({bufferSize:1,refCount:!1}));if(N(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ft.a)(null);else{p.pipe(he()).subscribe();const t=p.pipe(Pt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Mv({bufferSize:1,refCount:!1})),e=t=>new Ot.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Pt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Pt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Uv(n),Object(Vv.a)(h.outsideAngular),Object(pi.b)(h.insideAngular)),this.user=t.pipe(Uv(r),Object(Vv.a)(h.outsideAngular),Object(pi.b)(h.insideAngular)),this.idToken=this.user.pipe(Pt(t=>t?Object(ht.a)(t.getIdToken()):Object(ft.a)(null))),this.idTokenResult=this.user.pipe(Pt(t=>t?Object(ht.a)(t.getIdTokenResult()):Object(ft.a)(null))),this.credential=Object(Dv.a)(t,d,this.authState.pipe(Kt(t=>!t))).pipe(Object(Dt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Vv.a)(h.outsideAngular),Object(pi.b)(h.insideAngular))}return Object(gi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(gi.c),r.Jb(gi.b,8),r.Jb(r.B),r.Jb(r.z),r.Jb(qv,8),r.Jb(Bv,8),r.Jb(Hv,8),r.Jb(zv,8),r.Jb(Gv,8),r.Jb(Kv,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(gi.c),Object(r.Jb)(gi.b,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(qv,8),Object(r.Jb)(Bv,8),Object(r.Jb)(Hv,8),Object(r.Jb)(zv,8),Object(r.Jb)(Gv,8),Object(r.Jb)(Kv,8))},token:t,providedIn:"any"}),t})();function Qv(t,e){return function(t,e=ui.a){return new Ot.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function $v(t,e){return Qv(t,e).pipe(Object(Dt.a)(t=>({payload:t,type:"query"})))}function Jv(t,e){return $v(t,e).pipe(Bt(void 0),ci(),Object(Dt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Yv(t,e,n){return Jv(t,n).pipe(Ht((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Xv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Xv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Xv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new fi(void 0,void 0)),Object(Dt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Xv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Zv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(gi.e)(Wv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class tb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Jv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Bt(void 0),ci(),Kt(([t,e])=>e.length>0||!t),Object(Dt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ht((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Zv(t);return Yv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $v(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new eb(this.ref.doc(t),this.afs)}}class eb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ab(n,e);return new tb(r,i,this.afs)}snapshotChanges(){return Qv(this.ref,this.afs.schedulers.outsideAngular).pipe(Bt(void 0),ci(),Object(Dt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Dt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ht.a)(this.ref.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}class nb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Jv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Jv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ht((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Zv(t);return Yv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $v(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}const rb=new r.q("angularfire2.enableFirestorePersistence"),ib=new r.q("angularfire2.firestore.persistenceSettings"),ob=new r.q("angularfire2.firestore.settings"),sb=new r.q("angularfire2.firestore.use-emulator");function ab(t,e=(t=>t)){return{query:e(t),ref:t}}let ub=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new gi.d(o),this.keepUnstableUntilFirst=Object(gi.h)(this.schedulers);const c=Object(gi.g)(t,o,e);!mi.a.auth&&u&&Object(gi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(gi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!N(i)){const e=()=>{try{return Object(ht.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(xv){return"undefined"!=typeof console&&console.warn(xv),Object(ft.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ft.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ab(n,e),o=this.schedulers.ngZone.run(()=>r);return new tb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new nb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new eb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(gi.c),r.Jb(gi.b,8),r.Jb(rb,8),r.Jb(ob,8),r.Jb(r.B),r.Jb(r.z),r.Jb(ib,8),r.Jb(sb,8),r.Jb(qv,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(gi.c),Object(r.Jb)(gi.b,8),Object(r.Jb)(rb,8),Object(r.Jb)(ob,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(ib,8),Object(r.Jb)(sb,8),Object(r.Jb)(qv,8))},token:t,providedIn:"any"}),t})(),cb=(()=>{class t{constructor(t){this.firestore=t}getTreballs(){return this.firestore.collection("treballs").valueChanges({idField:"id"})}addTreball(t){this.firestore.collection("treballs").add({titol:t.titol,descripcio:t.descripcio,imatge:t.imatge})}deleteTreball(t){this.firestore.collection("treball").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ub))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lb(t,e){if(1&t&&(r.Hb(0,"div",2),r.Hb(1,"h3"),r.Tb(2),r.Gb(),r.Hb(3,"p"),r.Tb(4),r.Gb(),r.Fb(5,"img",3),r.Fb(6,"hr"),r.Gb()),2&t){const t=e.$implicit;r.vb(2),r.Ub(t.titol),r.vb(2),r.Ub(t.descripcio),r.vb(1),r.Ob("src",t.imatge,r.Qb)}}const hb=[{path:"",redirectTo:"/curriculum",pathMatch:"full"},{path:"curriculum",component:ai},{path:"treballs",component:(()=>{class t{constructor(t){this.firebd=t,this.treballs=[],this.firebd.getTreballs().subscribe(t=>{this.treballs=t,console.log(this.treballs)})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(cb))},t.\u0275cmp=r.yb({type:t,selectors:[["app-treballs"]],decls:6,vars:1,consts:[[2,"text-align","center"],["class","jumbotron","style","width: 50%;margin: 0 auto;text-align: center;",4,"ngFor","ngForOf"],[1,"jumbotron",2,"width","50%","margin","0 auto","text-align","center"],["width","100%",3,"src"]],template:function(t,e){1&t&&(r.Hb(0,"h2",0),r.Tb(1,"Treballs"),r.Gb(),r.Fb(2,"br"),r.Fb(3,"hr"),r.Fb(4,"br"),r.Sb(5,lb,7,3,"div",1)),2&t&&(r.vb(5),r.Ob("ngForOf",e.treballs))},directives:[A],styles:[""]}),t})()}];let fb=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[Xr.forRoot(hb)],Xr]}),t})(),db=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-header"]],decls:17,vars:0,consts:[[2,"background-color","#343a40"],[2,"text-align","center","color","white","margin","0 0","padding","10px 0"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],["href","/portfolio/treballs",1,"nav-link"]],template:function(t,e){1&t&&(r.Hb(0,"header",0),r.Hb(1,"h1",1),r.Tb(2,"Portfolio"),r.Gb(),r.Hb(3,"div"),r.Hb(4,"nav",2),r.Hb(5,"a",3),r.Tb(6,"Navegaci\xf3"),r.Gb(),r.Hb(7,"button",4),r.Fb(8,"span",5),r.Gb(),r.Hb(9,"div",6),r.Hb(10,"ul",7),r.Hb(11,"li",8),r.Hb(12,"a",9),r.Tb(13,"Curriculum"),r.Gb(),r.Gb(),r.Hb(14,"li",8),r.Hb(15,"a",10),r.Tb(16,"Treballs"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb())},styles:[""]}),t})(),pb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[2,"background-color","#343a40"],[2,"text-align","center","color","white","margin","0 0"]],template:function(t,e){1&t&&(r.Hb(0,"footer",0),r.Hb(1,"p",1),r.Tb(2," Tots els drets reservats Anass Bouchha"),r.Gb(),r.Gb())},styles:[""]}),t})(),gb=(()=>{class t{constructor(){this.title="portfolio"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Fb(0,"app-header"),r.Fb(1,"router-outlet"),r.Fb(2,"app-footer"))},directives:[db,Br,pb],styles:[""]}),t})();const mb={apiKey:"AIzaSyC0HMltYGee0CkbTAwBIpvlQlvUOHlSmaU",authDomain:"angular-36329.firebaseapp.com",projectId:"angular-36329",storageBucket:"angular-36329.appspot.com",messagingSenderId:"645715212806",appId:"1:645715212806:web:edf6685f1e50a7160b6187",measurementId:"G-R2ML13BWWE"};let yb=(()=>{class t{}return t.\u0275mod=r.Cb({type:t,bootstrap:[gb]}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[],imports:[[lt,fb,gi.a.initializeApp(mb)]]}),t})();Object(r.S)(),ut().bootstrapModule(yb).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);